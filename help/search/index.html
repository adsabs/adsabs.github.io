<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="google-site-verification"
    content="q68EGUOrG2HGZ62jIdD4ILfyPYZtDK6amNJbkrav_DA"
  />

  <!-- Disqus tags -->
  <meta property="og:image" content="">

  <link
    rel="stylesheet"
    href="/help/common/css/styles.css "
  />
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="/help/common/images/apple-touch-icon.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="/help/common/images/favicon-32x32.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="/help/common/images/favicon-16x16.png"
  />
  <link
    rel="manifest"
    href="/help/common/images/manifest.json"
  />
  <link
    rel="mask-icon"
    href="/help/common/images/safari-pinned-tab.svg"
    color="#5bbad5"
  />
  <meta name="theme-color" content="#ffffff" />
  <link
    rel="canonical"
    href="https://ui.adsabs.harvard.edu/help/search/"
  />

  <link
    rel="stylesheet"
    href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css"
  />
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      'script',
      'https://www.google-analytics.com/analytics.js',
      'ga'
    );

    ga('create', 'UA-37369750-8', 'auto');
    ga('send', 'pageview');
  </script>
  <style>
    body {
      visibility: hidden;
      opacity: 0;
    }
  </style>
  <noscript>
    <style>
      body {
        visibility: visible;
        opacity: 1;
      }
    </style>
  </noscript>
  <meta http-equiv="Last-Modified" content="2018-08-06 16:22:44 +0000" />
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ADS news, blogs, and help pages | All your questions will be answered here.</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="ADS news, blogs, and help pages" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="All your questions will be answered here." />
<meta property="og:description" content="All your questions will be answered here." />
<link rel="canonical" href="https://ui.adsabs.harvard.edu/help/search/" />
<meta property="og:url" content="https://ui.adsabs.harvard.edu/help/search/" />
<meta property="og:site_name" content="ADS news, blogs, and help pages" />
<meta property="og:image" content="https://ui.adsabs.harvard.edu/help/common/images/transparent_logo.svg" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://ui.adsabs.harvard.edu/help/common/images/transparent_logo.svg" />
<meta property="twitter:title" content="ADS news, blogs, and help pages" />
<meta name="twitter:site" content="@adsabs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","dateModified":"2018-08-06T16:22:44+00:00","description":"All your questions will be answered here.","headline":"ADS news, blogs, and help pages","image":"https://ui.adsabs.harvard.edu/help/common/images/transparent_logo.svg","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ui.adsabs.harvard.edu/help/common/images/transparent_logo.svg"}},"url":"https://ui.adsabs.harvard.edu/help/search/"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>
    <div>
  <nav class="navbar fluid navbar-inverse" aria-label="main navigation">
    <div class="navbar-header">
      <a class="navbar-brand s-navbar-brand" href="/help"
        ><img
          class="s-ads-icon"
          src="/help/common/images/transparent_logo.svg"
          alt="ads icon"
        />
        <b>&nbsp;ads</b>help
      </a>
    </div>

    <div class="navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <button
            type="button"
            class="btn btn-link dropdown-toggle"
            data-toggle="dropdown"
            aria-expanded="false"
          >
            <i
              class="fa fa-question-circle about-page-icon"
              aria-hidden="true"
            ></i>
            About <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="/about/">
                <i class="fa fa-question-circle" aria-hidden="true"></i>
                About ADS
              </a>
            </li>
            <li>
              <a href="/help/whats_new/">
                <i class="fa fa-bullhorn" aria-hidden="true"></i>
                What's New
              </a>
            </li>
            <li>
              <a href="/blog/">
                <i class="fa fa-newspaper-o" aria-hidden="true"></i>
                ADS Blog
              </a>
            </li>
            <li>
              <a href="/help/">
                <i class="fa fa-info-circle" aria-hidden="true"></i>
                ADS Help Pages
              </a>
            </li>
            <li>
              <a href="/help/legacy/">
                <i class="fa fa-archive" aria-hidden="true"></i> ADS Legacy
                Services
              </a>
            </li>
            <li>
              <a href="/about/careers/">
                <i class="fa fa-group" aria-hidden="true"></i>
                Careers@ADS
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <div class="s-starry-background-wrapper">
    <section class="s-logo-header">
      <div>
        <a href="https://ui.adsabs.harvard.edu/">
          <img
            src="/help/common/images/transparent_logo.svg"
            alt="The Astrophysics Data System Logo"
          />
          <b>astrophysics</b>&nbsp;data system
        </a>
      </div>
    </section>
  </div>
</div>


    <div class="smart-container">
      <div class="search-bar-container pull-right col-xs-12 col-md-6">
        <script>
  (function () {
    var cx = '016381517138775266827:j_b8wqloe18';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

      </div>
    </div>

    <div class="page-content smart-container"><div class="row row-offcanvas row-offcanvas-left">
  <div class="col-xs-6 col-sm-6 col-md-3 left-nav sidebar-offcanvas">
    <!--googleoff: all-->

<nav class="help-nav">

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

<div class="panel panel-default">
    <div class="panel-heading" role="tab" id="quickstart-help">
        <a class="collapsed" role="button" data-toggle="collapse" href="#quickstart-items" aria-expanded="false" aria-controls="collapseThree">
            <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i>
    Quick Start</h3>
        <a>
    </div>
    <div id="quickstart-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="quickstart-help">
      <ul class="list-group">
              
            <a href="/help/quickstart/searching-for-paper">
                <li class=" list-group-item">Searching for a specific paper</li>
            </a>
              
            <a href="/help/quickstart/build-library">
                <li class=" list-group-item">Building a library and calculating metrics</li>
            </a>
              
            <a href="/help/quickstart/literature-search">
                <li class=" list-group-item">Beginning a literature search</li>
            </a>
              
            <a href="/help/quickstart/common-name">
                <li class=" list-group-item">Searching for papers by an author with a common name</li>
            </a>
             
        </ul>
    </div>
    </div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="search-help">
        <a class="collapsed" role="button" data-toggle="collapse" href="#search-items" aria-expanded="false" aria-controls="collapseThree">
            <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> Making a Query</h3>
        <a>
    </div>
    <div id="search-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="search-help">
      <ul class="list-group">
              
            <a href="/help/search/search-syntax">
                <li class=" list-group-item">Search Syntax</li>
            </a>
              
            <a href="/help/search/citations-and-references">
                <li class=" list-group-item">Citation and Reference Operators</li>
            </a>
              
            <a href="/help/search/second-order">
                <li class=" list-group-item">Second-Order Queries</li>
            </a>
              
            <a href="/help/search/positional">
                <li class=" list-group-item">Positional Field Searches</li>
            </a>
              
            <a href="/help/search/filter">
                <li class=" list-group-item">Filter your search</li>
            </a>
              
            <a href="/help/search/comprehensive-solr-term-list">
                <li class=" list-group-item">Comprehensive List of Solr Fields & Operators</li>
            </a>
              
            <a href="/help/search/search-parser">
                <li class=" list-group-item">(Advanced) Search Syntax</li>
            </a>
              
            <a href="/help/search/author-search">
                <li class=" list-group-item">(Advanced) Author Search</li>
            </a>
             
        </ul>
    </div>
    </div>

<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="actions-help">
      <a class="collapsed" role="button" data-toggle="collapse" href="#actions-items" aria-expanded="false" aria-controls="collapseThree">
          <h3 class=""><i class="fa fa-lg fa-caret-right"> </i> Search Results</h3>
      <a>
  </div>
  <div id="actions-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="actions-help">
    <ul class="list-group">
          
        <a href="/help/actions/sort">
            <li class=" list-group-item">Sort Results</li>
        </a>
          
        <a href="/help/actions/analyze">
            <li class=" list-group-item">Metrics</li>
        </a>
          
        <a href="/help/actions/export">
            <li class=" list-group-item">Export Results</li>
        </a>
          
        <a href="/help/actions/author-affiliation">
            <li class=" list-group-item">Author Affiliations</li>
        </a>
          
        <a href="/help/actions/visualize">
            <li class=" list-group-item">Visualize Results</li>
        </a>
          
        <a href="/help/actions/quick-links">
            <li class=" list-group-item">Quick Links</li>
        </a>
          
        <a href="/help/actions/article-view">
            <li class=" list-group-item">Article View</li>
        </a>
          
        <a href="/help/actions/bibcode">
            <li class=" list-group-item">ADS Bibcode</li>
        </a>
          
        <a href="/help/actions/journal-macros">
            <li class=" list-group-item">Journal Macros</li>
        </a>
         
      </ul>
    </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="userpreferences-help">
      <a class="collapsed" role="button" data-toggle="collapse" href="#userpreferences-items" aria-expanded="false" aria-controls="collapseThree">
          <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> User Preferences</h3>
      <a>
  </div>
  <div id="userpreferences-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="userpreferences-help">
    <ul class="list-group">
          
        <a href="/help/userpreferences/library-servers">
            <li class=" list-group-item">Library Link Server</li>
        </a>
          
        <a href="/help/userpreferences/myads">
            <li class=" list-group-item">myADS Email Notifications</li>
        </a>
         
      </ul>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="libraries-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#libraries-items" aria-expanded="false" aria-controls="collapseThree">
          <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> ADS Libraries</h3>
      <a>
  </div>
  <div id="libraries-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="libraries-help">
      <ul class="list-group">
            
          <a href="/help/libraries/creating-libraries">
              <li class=" list-group-item">Creating and editing a library</li>
          </a>
            
          <a href="/help/libraries/public-libraries">
              <li class=" list-group-item">Making your library public and managing permissions</li>
          </a>
            
          <a href="/help/libraries/visualisations">
              <li class=" list-group-item">Visualisations, metrics, and exports</li>
          </a>
            
          <a href="/help/libraries/citation-helper">
              <li class=" list-group-item">Citation Helper</li>
          </a>
            
          <a href="/help/libraries/set-operations">
              <li class=" list-group-item">Set operations</li>
          </a>
            
          <a href="/help/libraries/legacy-importing">
              <li class=" list-group-item">Import from ADS Classic</li>
          </a>
           
      </ul>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="orcid-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#orcid-items" aria-expanded="false" aria-controls="collapseThree">
          <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> ORCID </h3>
      <a>
  </div>
  <div id="orcid-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="orcid-help">
      <ul class="list-group">
            
          <a href="/help/orcid/claiming-papers">
              <li class=" list-group-item">Claiming papers in ORCID</li>
          </a>
            
          <a href="/help/orcid/orcid-search">
              <li class=" list-group-item">Searching for papers in ORCID</li>
          </a>
           
      </ul>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="data_faq-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#data_faq-items" aria-expanded="false" aria-controls="collapseThree">
          <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> Data & Curation </h3>
      <a>
  </div>
  <div id="data_faq-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="data_faq-help">
      <ul class="list-group">
            
          <a href="/help/data_faq/data-faq">
              <li class=" list-group-item">Data & Curation Frequently Asked Questions (FAQs)</li>
          </a>
            
          <a href="/help/data_faq/conf_proc">
              <li class=" list-group-item">Instructions to Conference Proceedings Editors</li>
          </a>
            
          <a href="/help/data_faq/tagged-format">
              <li class=" list-group-item">Submissions Formatting</li>
          </a>
            
          <a href="/help/data_faq/journal_inclusion">
              <li class=" list-group-item">Journal Inclusion</li>
          </a>
            
          <a href="/help/data_faq/ads_curation_model">
              <li class=" list-group-item">ADS Curation Model</li>
          </a>
            
          <a href="/help/data_faq/ScanHistLit">
              <li class=" list-group-item">Technical Standards for Scanning Legacy Literature</li>
          </a>
           
      </ul>
  </div>
</div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="troubleshooting-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#troubleshooting-items" aria-expanded="false" aria-controls="collapseThree">
        <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> Troubleshooting </h3>
        <a>
    </div>
    <div id="troubleshooting-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="tutorials-help">
      <ul class="list-group">
          
        <a href="/help/troubleshooting/exporting">
          <li class=" list-group-item">How to Export Results</li>
        </a>
          
        <a href="/help/troubleshooting/how-to-export-har-file">
          <li class=" list-group-item">How to Generate a HAR File</li>
        </a>
         
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="video-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#videos-items" aria-expanded="false" aria-controls="collapseThree">
        <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> Videos </h3>
        <a>
    </div>
    <div id="videos-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="videos-help">
      <ul class="list-group">
          
        <a href="/help/videos/welcome">
          <li class=" list-group-item">Welcome to the New ADS</li>
        </a>
          
        <a href="/help/videos/intro">
          <li class=" list-group-item">Introduction to the New ADS</li>
        </a>
          
        <a href="/help/videos/personalization">
          <li class=" list-group-item">Personalization in the New ADS: ORCID and Libraries</li>
        </a>
          
        <a href="/help/videos/infrastructure">
          <li class=" list-group-item">Modernizing ADS Infrastructure: From 1992 to 2019</li>
        </a>
          
        <a href="/help/videos/affiliations">
          <li class=" list-group-item">Searching Affiliations in the New ADS</li>
        </a>
          
        <a href="/help/videos/advanced-search">
          <li class=" list-group-item">What are people thinking about what you want to think about?</li>
        </a>
          
        <a href="/help/videos/fulltext">
          <li class=" list-group-item">Searchable Full Text in the new ADS</li>
        </a>
          
        <a href="/help/videos/api">
          <li class=" list-group-item">Advanced Searching with the ADS API</li>
        </a>
          
        <a href="/help/videos/experts">
          <li class=" list-group-item">How to Use the ADS to Find Experts</li>
        </a>
          
        <a href="/help/videos/libraries">
          <li class=" list-group-item">Working with ADS Libraries</li>
        </a>
         
      </ul>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="policies-help">
      <a class="collapsed" role="button" data-toggle="collapse"  href="#policies-items" aria-expanded="false" aria-controls="collapseThree">
        <h3 class=""> <i class="fa fa-lg fa-caret-right"> </i> Policies </h3>
      <a>
    </div>
    <div id="policies-items" class="panel-collapse collapse" role="tabpanel" aria-labelledby="policies-help">
      <ul class="list-group">
                                                                                                                                                                                                                                                              
          <a href="/help/policies/terms">
            <li class=" list-group-item">Terms of Use</li>
          </a>
                              
          <a href="/help/policies/privacy">
            <li class=" list-group-item">Privacy Policy</li>
          </a>
              
          <a href="/help/policies/accessibility">
            <li class=" list-group-item">Accessibility Policy</li>
          </a>
                            
          <a href="/help/policies/name-changes">
            <li class=" list-group-item">Name Change Policy</li>
          </a>
                      
          <a href="/help/policies/update">
            <li class=" list-group-item">ADS Update Policy</li>
          </a>
                                                   
      </ul>
    </div>
  </div>

</div>

    <h3 class=""> <a href="/help/whats_new">What's New</a></h3>
    <h3 class=""> <a href="/help/faq">Frequently Asked Questions </a></h3>
    <h3 class=""> <a href="/help/api">Using the ADS API </a></h3>
    <h3 class=""> <a href="/help/twitter">#ADSHelp</a></h3>
    <h3 class=""> <a href="/help/handouts">Handouts </a></h3>
    <h3 class=""> <a href="/help/legacy">Legacy Services </a></h3>
    <h3 class=""> <a href="/help/logos">Logos </a></h3>

    <hr>

    <h3 class><img src="/help/common/images/github.png" width="24"> Edit help pages on <a href="https://github.com/adsabs/help">GitHub</a></h3>


</nav>

<!--googleon: all-->

  </div>

  <div class="post main-content col-xs-12 col-md-9">
    <button
      class="btn btn-primary visible-sm-inline-block visible-xs-inline-block"
      data-toggle="off-canvas"
    >
      toggle sidebar
    </button>

    <header class="post-header">
      
      <h2 class="post-title"></h2>
      
    </header>

    <article class="post-content"><h2>All Entries in the Category "Searching the ADS"</h2>


    
    <h3>Search Syntax</h3>
    <h3 id="search-basics">Search Basics</h3>

<p>ADS’s one box search form supports both fielded and unfielded queries.  Unfielded queries without search terms will search the metadata of the publications, including author, publication year, title, abstract, identifiers, and bibstem, which may not produce the expected results.  For instance, if you are searching for papers by the author Marc Mars, you want to search for <strong>author:“Mars, Marc”</strong> instead of <strong>Marc Mars</strong> to make sure that you don’t return papers that simply have the words “Marc” and “Mars” somewhere in the article metadata.</p>

<h3 id="fielded-searches">Fielded Searches</h3>

<p>Above the search box we supply shortcuts to frequently used search fields.  Simply click on the field that you wish to search and enter your search term in the provided location (generally between the supplied quotation marks).  Alternatively, if you start entering the name of a field an autocomplete feature will suggest a list of possible search fields.  You may string several search terms or use the filters provided with your results to help narrow the search selection.  For instance if you want to find articles published between 1980 and 1990 by John Huchra, you can use:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>author:"Huchra, John" year:1980-1990
</code></pre></div></div>

<p>To get you started, here is a list of search examples for commonly used fields:</p>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>author:“huchra, john”</td>
      <td>search for papers written by an author</td>
    </tr>
    <tr>
      <td>author:“^huchra, john”</td>
      <td>limit search to first-author papers</td>
    </tr>
    <tr>
      <td>^huchra, john</td>
      <td>limit search to first-author papers</td>
    </tr>
    <tr>
      <td>abs:“dark energy”</td>
      <td>search for the phrase “dark energy” in abstract, title and keywords</td>
    </tr>
    <tr>
      <td>year:2000</td>
      <td>search for publications written in 2000</td>
    </tr>
    <tr>
      <td>year:2000-2005</td>
      <td>search for publications written between 2000 and 2005 (inclusive)</td>
    </tr>
    <tr>
      <td>body:“gravitational waves”</td>
      <td>search for papers containing the phrase “gravitational waves” in the body of an article</td>
    </tr>
    <tr>
      <td>full:“gravitational waves”</td>
      <td>search for papers containing the phrase “gravitational waves” in a number of fields (title, abstract, body, acknowledgements and keywords)</td>
    </tr>
    <tr>
      <td>bibstem:ApJ</td>
      <td>select papers published in a particular publication</td>
    </tr>
    <tr>
      <td>object:((SMC OR LMC) AND M31)</td>
      <td>using the SIMBAD and NED object search, find papers tagged with either SMC or LMC and M31</td>
    </tr>
  </tbody>
</table>

<p>The rest of this page goes over the search syntax and fields indexed in our database.</p>

<h3 id="combining-search-terms-to-make-a-compound-query">Combining Search Terms to Make a Compound Query</h3>

<p>You can string together any number of search terms to develop a query.  By default search terms will be combined using AND as the default boolean operator, but this can be changed by explicitly specifying OR beween them.  Similarly one can exclude a term by prepending a “-“ sign to it (or using the boolean “NOT”).  Multiple search words or phrases may be grouped in a fielded query by enclosing them in parenthesis.  Some examples:</p>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>abstract:(QSO “dark energy”)</td>
      <td>papers containing both “QSO” and “dark energy” in their abstract</td>
    </tr>
    <tr>
      <td>abstract:(QSO OR “dark energy”)</td>
      <td>papers containing either “QSO” or “dark energy in their abstract</td>
    </tr>
    <tr>
      <td>author:“huchra, j” abstract:cfa</td>
      <td>papers by J. Huchra which have “cfa” in their abstract</td>
    </tr>
    <tr>
      <td>author:“huchra, j” OR abstract:“great wall”</td>
      <td>papers by J. Huchra or which mention “great wall” in their abstract</td>
    </tr>
    <tr>
      <td>author:“huchra, j” -title:2mass</td>
      <td>papers by “J. Huchra” but excludes ones with “2mass” in their title</td>
    </tr>
    <tr>
      <td>author:“huchra, j” NOT title:2mass</td>
      <td>same as above</td>
    </tr>
    <tr>
      <td>author:“accomazzi, a.” author:“kurtz, m.”</td>
      <td>papers authored by both A. Accomazzi and M. Kurtz</td>
    </tr>
    <tr>
      <td>author:(“accomazzi, a.” “kurtz, m.”)</td>
      <td>same as above</td>
    </tr>
  </tbody>
</table>

<p><strong>Operator precedence in multi-part searches</strong></p>

<p>Searches involving only two search terms, as shown above, are straightforward to parse. However, for searches with multiple search terms and multiple operators, understanding how operators take precendence over each other is important. For the most control, use parentheses around terms and operators that should be executed first. Otherwise, operators follow these general rules:</p>
<ul>
  <li>AND, OR, and NOT are set operators, operating on the search terms on either side. AND takes the intersection of the result set of the two search terms, OR takes the union, and NOT takes the difference. NOT takes precendence over AND, which takes precendence over OR.</li>
  <li>The default AND (i.e., not typing out AND but using just a blank space between the two terms, as in the first example above) has lower precedence than any of the Boolean operators above.</li>
  <li>The negative sign (-) is read as “prohibit”; results containing this term are completely excluded. In multi-part queries, its behavior can differ from that of NOT, because of the precedence rules.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Parsed as</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>aff:(China OR “Hong Kong” AND Taiwan)</td>
      <td>aff:(China OR (“Hong Kong” AND Taiwan))</td>
    </tr>
    <tr>
      <td>aff:(China OR “Hong Kong” Taiwan)</td>
      <td>aff:((China OR “Hong Kong”) AND Taiwan)</td>
    </tr>
    <tr>
      <td>aff:(China OR “Hong Kong” NOT Taiwan)</td>
      <td>aff:(China OR (“Hong Kong” NOT Taiwan))</td>
    </tr>
    <tr>
      <td>aff:(China OR “Hong Kong” -Taiwan)</td>
      <td>aff:((China OR “Hong Kong”) NOT Taiwan)</td>
    </tr>
  </tbody>
</table>

<p>For a more heavy handed exploration of the search syntax, feel free to visit the <a href="search-parser">search parser details page</a>.</p>

<h3 id="wildcards-proximity-and-regular-expression-search">Wildcards, Proximity, and Regular expression search</h3>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>author:“huchra, jo*”</td>
      <td>multi-character wildcard; search for papers written by <code class="language-plaintext highlighter-rouge">huchra, john</code>, <code class="language-plaintext highlighter-rouge">huchra, jonathan</code>, <code class="language-plaintext highlighter-rouge">huchra, jolie</code>, and anything in between</td>
    </tr>
    <tr>
      <td>author:“bol?,”</td>
      <td>single-character wildcard; in this case we may get back <code class="language-plaintext highlighter-rouge">bolt</code>, <code class="language-plaintext highlighter-rouge">boln</code>, <code class="language-plaintext highlighter-rouge">bolm</code></td>
    </tr>
    <tr>
      <td>title:(map NEAR5 planar)</td>
      <td>instead of a phrase search, we can ask the search engine to consider words be close to each other – the maximum allowed distance is 5; the operator must be written as <code class="language-plaintext highlighter-rouge">NEAR[number]</code>; in this example the search terms can appear in any order but there will be at most 5 other terms between (not counting stopwords such as <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">the</code>, <code class="language-plaintext highlighter-rouge">in</code>…). <strong>The proximity search must be used only against fielded search, i.e. inside one index. You cannot use proximity search to find an author name next to a title</strong>. If you are looking for token that appear next to each other, then please use a phrase search. For fields that are not tokenized (such as author names) use semicolon as a separator, e.g. <code class="language-plaintext highlighter-rouge">author:"kurtz, m; accomazzi, a" OR author:"accomazzi, a; kurtz, m"</code> – in a phrase search the order is important, so we much try both variants.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">facility:/magell.*/</code></td>
      <td>Regular expression searches are possible but are less useful than you might expect. Firstly, the regex can match only against indexed tokens - i.e. it is not possible to search for multiple words next to each other. So in practice, this type of search is more useful for fields that contain <code class="language-plaintext highlighter-rouge">string</code> tokens (as opposed to <code class="language-plaintext highlighter-rouge">text</code> tokens). In practice, this means that a field which contains many words (such as <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">abstract</code>, <code class="language-plaintext highlighter-rouge">body</code>) is a text field, but a field with only limited number of values is typically defined as a <code class="language-plaintext highlighter-rouge">string</code> - for example, <code class="language-plaintext highlighter-rouge">author</code>, <code class="language-plaintext highlighter-rouge">facility</code>, <code class="language-plaintext highlighter-rouge">page</code>. You can use regex in both <code class="language-plaintext highlighter-rouge">string</code> and <code class="language-plaintext highlighter-rouge">text</code> fields but you have to be aware that regular expression is only going to match <strong>indexed tokens</strong>. In the case of <code class="language-plaintext highlighter-rouge">string</code> fields tokens may be multi-word combinations, depending on the specific field. For example, in the <code class="language-plaintext highlighter-rouge">author</code> field one token is <code class="language-plaintext highlighter-rouge">huchra, john</code>, but in fulltext the same content will be indexed as two tokens: <code class="language-plaintext highlighter-rouge">huchra</code>, <code class="language-plaintext highlighter-rouge">john</code>. In all cases the tokens are normalized (typically by lowercasing the input data). A little bit or more of experimentation (test queries) should be enough to help you determine your ‘adversary’. For description of allowed regex patterns, please see: <a href="https://lucene.apache.org/core/7_0_1/core/org/apache/lucene/util/automaton/RegExp.html">Lucene documentation</a></td>
    </tr>
  </tbody>
</table>

<h3 id="synonyms-and-acronyms">Synonyms and Acronyms</h3>

<p>By default most search terms in ADS are expanded by adding a list of words which are synonyms of the search term.  So for example, a search of “star” in the title field will be expanded to include words such as “stars,” “stellar,” “starry,” “starlike,” and so on.  (Notice that this often includes words in foreign languages such as “etoile,” “stern,” and “stella”). While this feature improves recall, it sometimes compromises the precision of the results.  Our search engine allows one to turn off the synonym expansion feature by simply prepending an “=” sign in front of the search term.</p>

<p>Our search engine also identifies acronyms during indexing and searching (defined as words consisting entirely of uppercase characters).  A search for an uppercase word will only match documents which contain that acronym, whereas a search for a lowercase word will match documents which contain any variation of the word, irregardless of its case.  Acronyms can themselves have synonyms (for example “ADS” and “Astrophysics Data System” are synonyms), so one should be aware that there is an interaction between case-sensitiveness and synonym expansion.  The examples below illustrate these effects:</p>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>title:star</td>
      <td>title contains “star”, any of its synonyms, or the acronym “STAR”</td>
    </tr>
    <tr>
      <td>title:etoile</td>
      <td>title contains “star” or any of its synonyms (etoile being a synonym of star); <br />the results differ from above since “STAR” is not searched for</td>
    </tr>
    <tr>
      <td>=title:star</td>
      <td>title contains “star” or the acronym “STAR”</td>
    </tr>
    <tr>
      <td>=title:etoile</td>
      <td>title contains “etoile”</td>
    </tr>
    <tr>
      <td>title:STAR</td>
      <td>title contains the acronym “STAR”</td>
    </tr>
    <tr>
      <td>title:(=star -STAR)</td>
      <td>title contains “star” but not the acronym “STAR”</td>
    </tr>
    <tr>
      <td>fuse</td>
      <td>the word “fuse” or acronym “FUSE” appear anywhere in the paper</td>
    </tr>
    <tr>
      <td>FUSE</td>
      <td>the acronym “FUSE” appears anywhere in paper</td>
    </tr>
  </tbody>
</table>

<h3 id="author-searches">Author Searches</h3>

<p>Synoym expansion also applies to author names, which provide a way to account for changes in a person’s name and/or different spellings due to transliterations.  In addition to this, the default author search in ADS is “greedy” in the sense that it will return all documents in which an author signature may match the input search string.  This allows, for instance, to have an author search for “Huchra, John” to return papers where the author name appears as “Huchra, John” or “Huchra, J.”  By prepending the “=” character to the author search one can disable this feature (as well as any additional synonym expansion) and require an exact match on the author name.  Some examples:</p>

<table>
  <tbody>
    <tr>
      <th>Example Query</th>
      <th>Results</th>
    </tr>
    <tr>
        <td>author:"murray, s"</td>
        <td>Least precise variations: finds records authored by any of the following:<ul><li>Murray, Stephen S.</li><li>Murray, Stephen</li><li>Murray, S. S. </li><li>Murray, S.</li><li>Murray, Stephen D.</li><li>Murray, S. D.</li><li>Murray, Sarah S.</li><li>Murray, Scott</li><li>...</li></ul> (any possible combination with last name "murray" and first name starting with S) </td>
    </tr>
    <tr>
        <td>author:"murray, stephen"</td>
        <td>More precise variations: finds record authored by any of the following: <ul><li>Murray, Stephen S.</li><li>Murray, Stephen</li><li>Murray, S. S.</li><li>Murray, S.</li><li>Murray, Stephen D.</li><li>Murray, S. D.</li><li>...</li></ul>(any possible variation of "Murray, Stephen" with or without middle name)</td>
    </tr>
    <tr>
        <td>author:"murray, stephen s"</td>
        <td>Most precise variations: finds record authored by any of the following: <ul><li>Murray, Stephen S.</li><li>Murray, Stephen</li><li>Murray, S. S.</li><li>Murray, S.</li></ul>(any possible variation of "Murray, Stephen S" but no others)</td>
    </tr>
    <tr>
        <td>=author:"murray, s"</td>
        <td>Matches only records authored by "Murray, S."</td>
    </tr>
    <tr>
        <td>=author:"murray, stephen"</td>
        <td>Matches only records authored by "Murray, Stephen"</td>
    </tr>
    <tr>
        <td>=author:"murray, stephen s"</td>
        <td>Matches only records authored by "Murray, Stephen S."</td>
    </tr>
  </tbody>
</table>

<p>As a general rule we recommend to use the full name of the person for author searches since as can be seen above the matching rules in ADS are designed to find the maximal set of records consistent with the author specification given by the user.  Rather than disabling the name-variation algorithm described above, we recommend performing refinement of search results via the user interface filters for author names as described in the <a href="/help/search/filter">“Filter your search” section</a>.</p>

<p>The logic behind the author search is rather complicated, if you would like to learn more, visit the <a href="author-search">advanced author search page</a>.</p>

<h3 id="affiliation-searches">Affiliation Searches</h3>

<p>Affiliations in ADS have been indexed in several different search fields, with the intention of allowing multiple use cases. We have currently assigned affiliation identifiers allowing for parent/child relationships, such as an academic department within a university. Note that a child may have multiple parents, but we restrict a child from having children of its own.  The list of recognized institutions is available from our <a href="https://github.com/adsabs/CanonicalAffiliations/blob/master/parent_child.tsv">Canonical Affiliation repository</a> on Github.</p>

<table>
  <thead>
    <tr>
      <th>Example Query</th>
      <th>Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>aff:“UCLA”</td>
      <td>Searches the raw affiliation string, searchable word-by-word</td>
    </tr>
    <tr>
      <td>inst:“UCLA”</td>
      <td>Searches the canonical institution name listed in our mapping of organizations to identifiers, which returns all variations of UCLA (e.g. UCLA; University of California, Los Angeles; University of California - Los Angeles)</td>
    </tr>
  </tbody>
</table>

<p>For a breakdown to department level:</p>
<ul>
  <li>Use the “Institutions” filter in the left panel of search results</li>
  <li>Use parent/child syntax as defined in our list of Canonical Affiliations linked above (e.g. inst:“UCLA/IGPP”)</li>
</ul>

<p>Users are reminded that while affiliation information is largely complete for recent refereed literature, not all records contain an affiliation; therefore,
searching by affiliation alone will inherently be incomplete. We strongly recommend combining affiliation searches with author searches for best results.</p>

<h3 id="astronomical-objects-and-position-search">Astronomical Objects and Position Search</h3>

<p>The query modifier <code class="language-plaintext highlighter-rouge">object:</code> in fielded searches allows users to search the literature for bibliographic records that have been tagged with astronomical objects by SIMBAD and NED, or for a specified position on the sky (“cone search”). The cone search also makes use of services offered by SIMBAD and NED.</p>

<p>Queries for astronomical objects via <code class="language-plaintext highlighter-rouge">object:</code> queries return publications that have been tagged with the canonical names for these objects. This tagging has been done by the SIMBAD and NED teams. Additionally, the object names (as specified in the query) are also used in an ADS query against abstracts, titles and keywords in the astronomy collection (with synonym replacement switched off). The result set is a combination of all these matches. Object queries that target just one service (e.g. SIMBAD) are not currently supported. The <code class="language-plaintext highlighter-rouge">data</code> facet can be used to filter the results set.</p>

<p>The syntax for cone searches is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  object:"RA ±Dec:radius"
</code></pre></div></div>

<p>where RA and Dec are right ascention and declination J2000 positions, expressed in decimal degrees or in sexagesimal notation (hours minutes seconds and degrees arcmin and arcsec). The plus or minus sign before the declination is <strong><em>mandatory</em></strong>. The search radius may be given in arcmin, decimal or sexagesimal degrees (The default search radius is 2’, and the maximum is 60’). Examples:</p>

<ul>
  <li>A 10’ radius may be written as 0.1667 or 0 10</li>
  <li>The following 3 notations are equivalent:
    <ol>
      <li>05h23m34.6s -69d45m22s</li>
      <li>05 23 34.6 -69 45 22</li>
      <li>80.894167 -69.756111</li>
    </ol>
  </li>
</ul>

<p>Searching for publications tagged with objects returned by the coordinates in the example above, with a search radius of 10’ is done as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>object:"05h23m34.6s -69d45m22s:0.1667"
</code></pre></div></div>

<p>The equivalent of (see <a href="https://ui.adsabs.harvard.edu/abs/2007ASPC..382..495K/abstract">2007ASPC..382..495K</a>)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://adsabs.harvard.edu/cgi-bin/abs_connect?data_type=VOTABLE&amp;DEC=60&amp;RA=16&amp;SR=.1
</code></pre></div></div>

<p>is the search <code class="language-plaintext highlighter-rouge">object:"16 +60:0.1"</code>, followed by exporting the results in the <code class="language-plaintext highlighter-rouge">VOTable</code> export format. Currently there is no equivalent of the ADS Classic URL shown above.</p>

<h3 id="available-fields">Available Fields</h3>

<p>This is a list of fields currently recognized by the ADS search engine and the preferred search format - go to <a href="comprehensive-solr-term-list">comprehensive list of fields</a> if not saturated yet:</p>

<table>
  <thead>
    <tr>
      <th>Field Name</th>
      <th>Syntax</th>
      <th>Example</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Abstract/Title/Keywords</td>
      <td>abs:“phrase”</td>
      <td>abs:“dark energy”</td>
      <td>search for word or phrase in abstract, title and keywords</td>
    </tr>
    <tr>
      <td>Abstract</td>
      <td>abstract:“phrase”</td>
      <td>abstract:“dark energy”</td>
      <td>search for a word or phrase in an abstract only</td>
    </tr>
    <tr>
      <td>Acknowledgements</td>
      <td>ack:“phrase”</td>
      <td>ack:“ADS”</td>
      <td>search for a word or phrase in the acknowledgements</td>
    </tr>
    <tr>
      <td>Affiliation</td>
      <td>aff:“phrase”</td>
      <td>aff:“harvard”</td>
      <td>search for word or phrase in the raw, provided affiliation field</td>
    </tr>
    <tr>
      <td>Affiliation ID</td>
      <td>aff_id:ID</td>
      <td>aff_id:A00211</td>
      <td>search for an affiliation ID listed in the <a href="https://github.com/adsabs/CanonicalAffiliations/blob/master/parent_child.tsv">Canonical Affiliations list</a> in the <em>child</em> column. This field will soon also accept 9-digit ROR ids.</td>
    </tr>
    <tr>
      <td>Alternate Bibcode</td>
      <td>alternate_bibcode:adsbib</td>
      <td>alternate_bibcode:2003AJ….125..525J</td>
      <td>finds articles that used to (or still have) this bibcode</td>
    </tr>
    <tr>
      <td>Alternate Title</td>
      <td>alternate_title:“phrase”</td>
      <td>alternate_title:“Gammablitz”</td>
      <td>search for a word or phrase in an articles title if they have more than one, in multiple languages</td>
    </tr>
    <tr>
      <td>arXiv ID</td>
      <td>arXiv:arxivid</td>
      <td>arXiv:1108.0669</td>
      <td>finds a specific record using its arXiv id</td>
    </tr>
    <tr>
      <td>arXiv Class</td>
      <td>arxiv_class:arxivclass</td>
      <td>arxiv_class:“High Energy Physics - Experiment”</td>
      <td>finds all arXiv pre-prints in the class specified</td>
    </tr>
    <tr>
      <td>Author</td>
      <td>author:“Last, F”</td>
      <td>author:“huchra, j”</td>
      <td>author name may include just lastname and initial</td>
    </tr>
    <tr>
      <td>Author (cont.)</td>
      <td>author:“Last, First […]”</td>
      <td>author:“huchra, john p”</td>
      <td>an example of stricter author search (recommended)</td>
    </tr>
    <tr>
      <td>Author count</td>
      <td>author_count:count</td>
      <td>author_count:40</td>
      <td>find records that have a specific number of authors</td>
    </tr>
    <tr>
      <td>Author count (cont.)</td>
      <td>author_count:[min_count TO max_count]</td>
      <td>author_count:[10 TO 100]</td>
      <td>find records that have a range of author counts</td>
    </tr>
    <tr>
      <td>Bibcode</td>
      <td>bibcode:adsbib</td>
      <td>bibcode:2003AJ….125..525J</td>
      <td>finds a specific record using the <a href="/help/actions/bibcode">ADS bibcode</a></td>
    </tr>
    <tr>
      <td>Bibliographic groups</td>
      <td>bibgroup:name</td>
      <td>bibgroup:HST</td>
      <td>limit search to papers in HST bibliography (*)</td>
    </tr>
    <tr>
      <td>Bibliographic stem</td>
      <td>bibstem:adsbibstem</td>
      <td>bibstem:ApJ</td>
      <td>find records that contain a specific bibstem in their bibcode</td>
    </tr>
    <tr>
      <td>Body</td>
      <td>body:“phrase”</td>
      <td>body:“gravitational waves”</td>
      <td>search for a word or phrase in (only) the full text</td>
    </tr>
    <tr>
      <td>Citation count</td>
      <td>citation_count:count</td>
      <td>citation_count:40</td>
      <td>find records that have a specific number of citations</td>
    </tr>
    <tr>
      <td>Citation count (cont.)</td>
      <td>citation_count:[min_count TO max_count]</td>
      <td>citation_count:[10 TO 100]</td>
      <td>find records that have a range of citation counts</td>
    </tr>
    <tr>
      <td>Copyright</td>
      <td>copyright:copyright</td>
      <td>copyright:2012</td>
      <td>search for articles with certain copyrights</td>
    </tr>
    <tr>
      <td>Data links</td>
      <td>data:archive</td>
      <td>data:NED</td>
      <td>limit search to papers with data from NED (*)</td>
    </tr>
    <tr>
      <td>Database</td>
      <td>database:DB</td>
      <td>database:astronomy</td>
      <td>limit search to either astronomy or physics or general</td>
    </tr>
    <tr>
      <td>Date Range</td>
      <td>pubdate:[YYYY-MM TO YYYY-MM]</td>
      <td>pubdate:[2005-10 TO 2006-09]</td>
      <td>use fine-grained dates for publication range</td>
    </tr>
    <tr>
      <td>Document type</td>
      <td>doctype:type</td>
      <td>doctype:catalog</td>
      <td>limit search to records corresponding to data catalogs (*)</td>
    </tr>
    <tr>
      <td>DOI</td>
      <td>doi:DOI</td>
      <td>doi:10.1086/345794</td>
      <td>finds a specific record using its digital object id</td>
    </tr>
    <tr>
      <td>First Author</td>
      <td>^Last, F   <br />      author:“^Last, F”</td>
      <td>^huchra, j   <br />author:“^huchra, j”</td>
      <td>limit the search to first-author papers</td>
    </tr>
    <tr>
      <td>Fulltext</td>
      <td>full:“phrase”</td>
      <td>full:“gravitational waves”</td>
      <td>search for word or phrase in fulltext, acknowledgements, abstract, title and keywords</td>
    </tr>
    <tr>
      <td>Grant</td>
      <td>grant:grant</td>
      <td>grant:NASA</td>
      <td>finds papers with specific grants listed in them</td>
    </tr>
    <tr>
      <td>Identifiers</td>
      <td>identifier:bibcode</td>
      <td>identifier:2003AJ….125..525J</td>
      <td>finds a paper using any of its identifiers, arXiv, bibcode, doi, etc.</td>
    </tr>
    <tr>
      <td>Institution</td>
      <td>inst:“abbreviation”</td>
      <td>inst:“Harvard U”</td>
      <td>search the curated list of affiliations (e.g. STScI and “Space Telescope Science Institute” have been matched); the full list is in the <em>Abbrev</em> column in the <a href="https://github.com/csgrant00/CanonicalAffiliations/blob/master/parent_child.tsv">Canonical Affiliations list</a></td>
    </tr>
    <tr>
      <td>Issue</td>
      <td>issue:number</td>
      <td>issue:10</td>
      <td>search for papers in a certain issue</td>
    </tr>
    <tr>
      <td>Keywords</td>
      <td>keyword:“phrase”</td>
      <td>keyword:sun</td>
      <td>search publisher- or author-supplied keywords</td>
    </tr>
    <tr>
      <td>Language</td>
      <td>lang:“language”</td>
      <td>lang:korean</td>
      <td>search for papers with a given language</td>
    </tr>
    <tr>
      <td>Object</td>
      <td>object:“object”</td>
      <td>object:Andromeda</td>
      <td>search for papers tagged with a specific astronomical object (as shown here) or at or near a set of coordinates (see <a href="../search/search-syntax/#astronomical-objects-and-position-search">Astronomical Objects and Position Search</a> above)</td>
    </tr>
    <tr>
      <td>ORCiD iDs</td>
      <td>orcid:id</td>
      <td>orcid:0000-0000-0000-0000</td>
      <td>search for papers that are associated with a specific ORCiD iD</td>
    </tr>
    <tr>
      <td>ORCiD iDs from publishers</td>
      <td>orcid_pub:id</td>
      <td>orcid_pub:0000-0000-0000-0000</td>
      <td>search for papers that are associated with a specific ORCiD iD specified by a Publisher</td>
    </tr>
    <tr>
      <td>ORCiD iDs from known ADS users</td>
      <td>orcid_user:id</td>
      <td>orcid_id:0000-0000-0000-0000</td>
      <td>search for papers that are associated with a specific ORCiD iD claimed by known ADS users</td>
    </tr>
    <tr>
      <td>ORCiD iDs from uknknown ADS users</td>
      <td>orcid_other:id</td>
      <td>orcid_other:0000-0000-0000-0000</td>
      <td>search for papers that are associated with a specific ORCiD iD claimed by unknown ADS users</td>
    </tr>
    <tr>
      <td>Page</td>
      <td>page:number</td>
      <td>page:410</td>
      <td>search for papers with a given page number</td>
    </tr>
    <tr>
      <td>Publication</td>
      <td>bibstem:“abbrev”</td>
      <td>bibstem:ApJ</td>
      <td>limit search to a <a href="http://adsabs.harvard.edu/abs_doc/journal_abbr.html" target="_blank">specific publication</a></td>
    </tr>
    <tr>
      <td>Properties</td>
      <td>property:type</td>
      <td>property:openaccess</td>
      <td>limit search to article with specific attributes (*)</td>
    </tr>
    <tr>
      <td>Read count</td>
      <td>read_count:count</td>
      <td>read_count:10</td>
      <td>search for papers with a given number of reads</td>
    </tr>
    <tr>
      <td>Title</td>
      <td>title:“phrase”</td>
      <td>title:“weak lensing”</td>
      <td>search for word or phrase in title field</td>
    </tr>
    <tr>
      <td>VizieR keywords</td>
      <td>vizier:“phrase”</td>
      <td>vizier:“Optical”</td>
      <td>search for papers with a given set of VizieR keywords</td>
    </tr>
    <tr>
      <td>Volume</td>
      <td>volume:volume</td>
      <td>volume:10</td>
      <td>search for papers with a given volume</td>
    </tr>
    <tr>
      <td>Year</td>
      <td>year:YYYY</td>
      <td>year:2000</td>
      <td>require specific publication year</td>
    </tr>
    <tr>
      <td>Year Range</td>
      <td>year:YYYY-YYYY</td>
      <td>year:2000-2005</td>
      <td>require publication date range</td>
    </tr>
  </tbody>
</table>

<p>(*) See below for details on these filters.  In most cases, filtering of results based on these fields is available in the user interface.</p>

<h3 id="properties">Properties</h3>

<p>The “properties” search field allows one to restrict the search results to papers which belong to a particular class.  The allowed properties currently include:</p>

<table>
  <thead>
    <tr>
      <th>Property flag</th>
      <th>Selection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ads_openaccess</td>
      <td>An OA version of article is available from ADS</td>
    </tr>
    <tr>
      <td>article</td>
      <td>The record corresponds to a regular article</td>
    </tr>
    <tr>
      <td>associated</td>
      <td>The record has associated articles available</td>
    </tr>
    <tr>
      <td>author_openaccess</td>
      <td>An author-submitted OA version is available</td>
    </tr>
    <tr>
      <td>data</td>
      <td>One or more data links are available, see <code class="language-plaintext highlighter-rouge">data</code> field</td>
    </tr>
    <tr>
      <td>eprint_openaccess</td>
      <td>An OA version of article is available from a preprint server (e.g. arXiv)</td>
    </tr>
    <tr>
      <td>esource</td>
      <td>An electronic source is available, see <code class="language-plaintext highlighter-rouge">esource</code> field</td>
    </tr>
    <tr>
      <td>inspire</td>
      <td>A corresponding record is available in the INSPIRE database</td>
    </tr>
    <tr>
      <td>library_catalog</td>
      <td>A corresponding record is available from a library catalog</td>
    </tr>
    <tr>
      <td>nonarticle</td>
      <td>The record is not a regular article; applies to e.g. meeting abstracts, software, catalog descriptions, etc</td>
    </tr>
    <tr>
      <td>notrefereed</td>
      <td>The record is not peer reviewed (refereed)</td>
    </tr>
    <tr>
      <td>ocr_abstract</td>
      <td>The record’s abstract was generated from OCR (may contain typos or mistakes)</td>
    </tr>
    <tr>
      <td>openaccess</td>
      <td>The record has at least one openaccess version available</td>
    </tr>
    <tr>
      <td>presentation</td>
      <td>The record has one or more media presentations associated with it</td>
    </tr>
    <tr>
      <td>pub_openaccess</td>
      <td>An OA version of article is available from publisher</td>
    </tr>
    <tr>
      <td>refereed</td>
      <td>The record is peer reviewed (refereed)</td>
    </tr>
    <tr>
      <td>toc</td>
      <td>The record has a Table Of Content (TOC) associated with it</td>
    </tr>
  </tbody>
</table>

<h3 id="bibliographic-groups">Bibliographic Groups</h3>

<p>The “bibgroup” search field allows restriction of the search results to one of the <a href="http://adsabs.harvard.edu/abs_doc/help_pages/search.html#Select_References_From_Group">ADS bibliographic groups</a>.  These groups are curated by a number of librarians and archivists who maintain either institutional or “telescope” bibliographies on behalf of their projects.  Here is a partial list.  For more information on the criteria behind the curation of these groups, please see the link above.</p>

<p>The list of current Institutional bibgroups is: ARI, CfA, CFHT, Leiden, USNO</p>

<p>The list of current Telescope bibgroups is: ALMA, CXC, ESO, Gemini, Herschel, HST, ISO, IUE, JCMT, Keck, Magellan, NOAO, NRAO, ROSAT, SDO, SMA, Spitzer, Subaru, Swift, UKIRT, XMM</p>

<h3 id="data-links">Data Links</h3>

<p>The “data” search field can be used to select papers which have data links associated to them.  The list of archives which ADS links to can be seen under the “Data” filter selection.  To generate a list of all records which have data links one can issue a simple wildcard query: <a href="https://ui.adsabs.harvard.edu/#search/q=data%3A*&amp;sort=date+desc">data:* </a>.  Using the data search field allows one to focus on data-rich papers, for example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data:(CXO OR XMM) AND data:HST
</code></pre></div></div>

<p>Finds multi-wavelength papers which have observations both in the X-ray spectrum (from Chandra or XMM) and in the optical (HST).  Of course additional search terms can be used to further refine the selection criteria.</p>

<h3 id="document-type">Document Type</h3>

<p>Records in ADS are assigned a document type which is indexed in the “doctype” search field, the contents of which are an extension of the <a href="https://en.wikipedia.org/wiki/BibTeX">BibTeX</a> entry types.  Currently these are the document types indexed by ADS:</p>

<table>
  <thead>
    <tr>
      <th>Document Type</th>
      <th>Resource associated with record</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>article</td>
      <td>journal article</td>
    </tr>
    <tr>
      <td>eprint</td>
      <td>article preprinted in arXiv</td>
    </tr>
    <tr>
      <td>inproceedings</td>
      <td>article appearing in a conference proceedings</td>
    </tr>
    <tr>
      <td>inbook</td>
      <td>article appearing in a book</td>
    </tr>
    <tr>
      <td>abstract</td>
      <td>meeting abstract</td>
    </tr>
    <tr>
      <td>book</td>
      <td>book (monograph)</td>
    </tr>
    <tr>
      <td>bookreview</td>
      <td>published book review</td>
    </tr>
    <tr>
      <td>catalog</td>
      <td>data catalog (or other high-level data product)</td>
    </tr>
    <tr>
      <td>circular</td>
      <td>printed or electronic circular</td>
    </tr>
    <tr>
      <td>erratum</td>
      <td>erratum to a journal article</td>
    </tr>
    <tr>
      <td>mastersthesis</td>
      <td>Masters thesis</td>
    </tr>
    <tr>
      <td>newsletter</td>
      <td>printed or electronic newsletter</td>
    </tr>
    <tr>
      <td>obituary</td>
      <td>obituary (article containing “obituary” in its title)</td>
    </tr>
    <tr>
      <td>phdthesis</td>
      <td>PhD thesis</td>
    </tr>
    <tr>
      <td>pressrelease</td>
      <td>press release</td>
    </tr>
    <tr>
      <td>proceedings</td>
      <td>conference proceedings book</td>
    </tr>
    <tr>
      <td>proposal</td>
      <td>observing or funding proposal</td>
    </tr>
    <tr>
      <td>software</td>
      <td>software package</td>
    </tr>
    <tr>
      <td>talk</td>
      <td>research talk given at a scholarly venue</td>
    </tr>
    <tr>
      <td>techreport</td>
      <td>technical report</td>
    </tr>
    <tr>
      <td>misc</td>
      <td>anything not found in the above list</td>
    </tr>
  </tbody>
</table>

      
    <h3>Citation and Reference Operators</h3>
    <p>When you submit a query, ADS returns a list of search results. Should you want a list of all the articles which <strong>cite those search results</strong> , or all the articles which <strong>are referenced by those search results</strong>, you can use the citation or reference operators.</p>

<p>The syntax for these operators are <em>references(query)</em> and <em>citations(query)</em>.</p>

<p>Examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>citations(author:"huchra, john")           # returns the list of papers citing John Huchra's papers
references(bibcode:2003AJ....125..525J)    # returns papers cited by the paper 2003AJ....125..525J
citations(abstract:HST)                    # returns papers citing papers which have "HST" in their abstract
</code></pre></div></div>

<p>One powerful aspect of having these operators at our disposal when creating a query is that we can combine them with additional search terms to expand or narrow your query.  For example, the following query finds all papers which cite <a href="https://ui.adsabs.harvard.edu/#abs/2006SSRv..123..485G/abstract" target="_blank">the original JWST paper</a> as well as papers which contain the terms “Webb” or “JWST” in their abstract:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>citations(bibcode:2006SSRv..123..485G) OR abstract:(Webb OR JWST)
</code></pre></div></div>

      
    <h3>Second-Order Queries</h3>
    <p>We provide five second-order operators which modify the query results by performing second-order operations on the original query. To invoke the operators, enter the corresponding operator before your search terms (enclosing your search terms in parentheses) in the search box. The search terms enclosed by parentheses are considered the first-order query.</p>

<p><strong>Similar</strong> - The <em>similar</em> operator takes the text of the abstracts of the papers in the first-order query, combines them into a single “document,” then ranks all the abstracts in the ADS by their text-based similarity to this combined document, and returns the ranked list. The returned results exclude the articles returned by the first-order query. The documents returned are the most similar, as determined via text analysis, to the topic being researched, while excluding the original documents. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>similar(bibcode:2000A&amp;AS..143...41K)
</code></pre></div></div>

<p>will return a ranked list of papers that are textually similar to the given paper, while excluding the given paper from the results.</p>

<p>The next example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>similar("weak lensing" -entdate:[NOW-7DAYS TO *]) entdate:[NOW-7DAYS TO *] bibstem:"arXiv"
</code></pre></div></div>

<p>will return a ranked list of recent arXiv papers that are textually similar to older papers about weak lensing. Note that since the similar operator excludes results returned by the first-order query, we here use separate date ranges in the first-order query and the outer query in order to force the queries to be disjoint.</p>

<p><strong>Trending</strong> – The <em>trending</em> operator takes the lists of readers who read the papers in the first-order query, finds the lists of papers which each of them read, combines these lists, and returns the combined list, sorted by frequency of appearance. The documents returned are most read by users who read recent papers on the topic being researched; these are papers currently being read by people interested in this field. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>trending(exoplanets)
</code></pre></div></div>

<p>will return a ranked list of papers which are currently popular among the readers interested in exoplanets.</p>

<p><strong>Useful</strong> – The <em>useful</em> operator takes the reference lists from the papers in the first-order query, combines them and returns this list, sorted by how frequently a referenced paper appears in the combined list. The documents returned are frequently cited by the most relevant papers on the topic being researched; these are studies which discuss methods and techniques useful to conduct research in this field. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>useful("galaxy surveys")
</code></pre></div></div>

<p>will return a ranked list of papers spanning a variety of topics useful to researchers interested in analyzing surveys of galaxies.</p>

<p><strong>Reviews</strong> – The <em>reviews</em> operator takes the lists of articles which cited the papers in the first-order query, combines them, and returns this list sorted by how frequently a citing paper appears in the combined list. The documents returned cite the most relevant papers on the topic being researched; these are papers containing the most extensive reviews of the field. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reviews("weak lensing")
</code></pre></div></div>

<p>will return a ranked list of papers featuring reviews of weak gravitational lensing and its cosmological implications.</p>

<figure>
    <img src="../img/second-order.png" class="img-responsive" alt="diagram showing use of the second order operators" />
    <figcaption><em><center>Usage of the similar( ), trending( ), useful( ), and reviews( ) second-order operators</center></em></figcaption>
</figure>
<p><br /></p>

<p><strong>TopN</strong> – returns the list of top N documents for a user defined query, where they are ordered by their default sort order or a user specified sort order. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>topn(100, database:astronomy, citation_count desc)
</code></pre></div></div>

<p>will return the top 100 most cited astronomy papers.</p>

<p>This next example uses the default sort order for the interior query, so no sort order needs to be specified:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>trending(topn(10, reviews("weak lensing")))
</code></pre></div></div>

<p>This query returns papers currently being read by users who are interested in the field of weak lensing.</p>

      
    <h3>Positional Field Searches</h3>
    <p>The <em>pos()</em> operator allows you to search for an item within a field by specifying the position in the field.  The syntax for this operator is <em>pos(fieldedquery,position,[endposition])</em>.  If no <em>endposition</em> is given, then it is assumed to be <em>endposition = position</em>, otherwise this performs a query within the range <em>[position, endposition]</em>. For example:</p>

<table>
  <thead>
    <tr>
      <th>Example</th>
      <th>Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>pos(author:”Oort, J”,2)</td>
      <td>papers which have “J. Oort” as the second author</td>
    </tr>
    <tr>
      <td>pos(author:”Oort, J”,2,2)</td>
      <td>same as above</td>
    </tr>
    <tr>
      <td>pos(author:”Oort, J”,1,3)</td>
      <td>papers which have “J. Oort” as first, second, or third author</td>
    </tr>
    <tr>
      <td>pos(aff:harvard,1)</td>
      <td>papers for which the first author has a Harvard affiliation</td>
    </tr>
    <tr>
      <td>pos(title:M31,1)</td>
      <td>papers for which the title start with “M31”</td>
    </tr>
  </tbody>
</table>

<p>Currently the <em>pos()</em> operator works on these fields: <em>author</em>, <em>aff</em>, <em>title</em>.</p>

<!---###Truncation of result list###

You can limit the number of results returned by your search by using the _topn()_ operator, which accepts the syntax _topn(N,query)_ and returns the top N papers from a list of results

    topn(20,"galaxy clusters")

This will limit the list of results to be the 20 most relevant papers on "galaxy clusters." --->

      
    <h3>Filter your search</h3>
    <p>Once you have a results list from an initial query you can use our filters to further refine your search.  Your results list will change each time you apply a limit.</p>

<p>Clicking on any of the listed terms within a filter will automatically apply that term as a filter. If you choose a single term from a given filter, you will be prompted to <strong>limit to</strong> or <strong>exclude</strong> the search term from the list of results; if you choose more than one term from within a single filter, you will be prompted to select <strong>and</strong> (results must contain all of the selected terms), <strong>or</strong> (results must contain at least one of the selected terms), or <strong>exclude</strong> (results must not contain the selected terms).</p>

<h3 id="available-filters">Available filters</h3>
<ul>
  <li><em>Authors</em>: filter individual authors in the results list</li>
  <li><em>Collections</em>: include or exclude results from the astronomy, physics, and general collections. Note that all collections are included by default in searches using the Modern Form, but searches using the Classic Form may have a collection selected on the search form</li>
  <li><em>Refereed status</em>: include or exclude refereed or non-refereed publications</li>
  <li><em>Institutions</em>: include or exclude results from the curated <a href="../../blog/affiliations-feature">canonical affiliations</a> that were found in the results of your original query</li>
  <li><em>Keywords</em>: include or exclude keywords that were found in the results of your original query</li>
  <li><em>Publications</em>: include or exclude journals that were found in the results of your original query</li>
  <li><em>Bib Groups</em>: include or exclude results from curated <a href="../search/search-syntax#bibliographic-groups">bibliographic groups</a></li>
  <li><em>SIMBAD Objects</em>: include or exclude results that contain <a href="http://simbad.u-strasbg.fr/simbad/">SIMBAD</a> object types or individual objects</li>
  <li><em>NED Objects</em>: include or exclude results that contain <a href="https://ned.ipac.caltech.edu/">NED</a> object types or individual objects</li>
  <li><em>Data</em>: include or exclude results that contain data in various archives (e.g. CDS, HEASARC, CXO, NED)</li>
  <li><em>Vizier Tables</em>: include or exclude results that have <a href="https://vizier.u-strasbg.fr/viz-bin/VizieR">Vizier</a> tables or catalogs</li>
  <li><em>Publication Type</em>: include or exclude records based on the document type</li>
</ul>

<h3 id="example">Example</h3>

<ol>
  <li>Search for <em>author:“Huchra, John”</em>.</li>
  <li>Open the author filter; you will get a list that includes “Geller, M” and “Illingworth, G.” If you want the articles in which “Geller, M.” is a coauthor with “Huchra, John” you would click on the name “Geller, M.” in the list.</li>
  <li>If you want the articles in which either “Geller, M.” or “Illingworth, G” were coauthors you would click the boxes next to both of their names and choose “or” from the selection box.
If you want the articles in which both “Geller, M.” and “Illingworth, G” were coauthors you would click the boxes next to both of their names and choose “and” from the selection box. (There should be zero results for this query!)</li>
</ol>

      
    <h3>Comprehensive List of Solr Fields & Operators</h3>
    <p><strong>This is an extensive list of methods of querying the ADS system.</strong>
It is a technical document and you probably don’t need to read it unless you are interested in performing advanced searches.</p>

<p><strong>Solr (Virtual) Fields, Operators, and Other Stuff</strong></p>

<p>An aggregated list of the fields, operators, and other parameters that are accessible from Solr. Descriptions of what they are used for, and why or where they should or should not be shown to users.</p>

<table>
  <thead>
    <tr>
      <th>Field Name</th>
      <th>Searchable</th>
      <th>Retrievable</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_version_</td>
      <td>y</td>
      <td>y</td>
      <td>Integer (timestamp-like) indicating internal versioning sequence, if it has changed it means the record has been reindexed</td>
    </tr>
    <tr>
      <td>abs</td>
      <td>y</td>
      <td>y</td>
      <td>Virtual field to search across <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">keyword</code>, <code class="language-plaintext highlighter-rouge">abstract</code> fields in one operation</td>
    </tr>
    <tr>
      <td>abstract</td>
      <td>y</td>
      <td>y</td>
      <td>Abstract of the record</td>
    </tr>
    <tr>
      <td>ack</td>
      <td>y</td>
      <td>n</td>
      <td>Contains acknowledgements extracted from fulltexts (if identified in article).</td>
    </tr>
    <tr>
      <td>aff</td>
      <td>y</td>
      <td>y</td>
      <td>Affiliation strings of authors (raw data), values correspond to order of <code class="language-plaintext highlighter-rouge">author</code> field. Multiple values separated by <code class="language-plaintext highlighter-rouge">;</code>. See <a href="https://github.com/adsabs/CanonicalAffiliations/blob/master/parent_child.tsv">canonical data</a> for all things <code class="language-plaintext highlighter-rouge">aff_</code></td>
    </tr>
    <tr>
      <td>aff_abbrev</td>
      <td>y</td>
      <td>y</td>
      <td>List of curated institution abbreviations for a given paper</td>
    </tr>
    <tr>
      <td>aff_canonical</td>
      <td>y</td>
      <td>y</td>
      <td>List of curated institution names</td>
    </tr>
    <tr>
      <td>aff_facet_hier</td>
      <td>y</td>
      <td>y</td>
      <td>Hierarchical label consisting of <code class="language-plaintext highlighter-rouge">Level/Parent/Child</code> - i.e. <code class="language-plaintext highlighter-rouge">1/CSIC Madrid/Inst Phys</code>. List of values is <em>not</em> linked to order/number of authors.</td>
    </tr>
    <tr>
      <td>aff_id</td>
      <td>y</td>
      <td>y</td>
      <td>List of curated affiliation IDs in a given paper, values correspond to order of <code class="language-plaintext highlighter-rouge">author</code> field. Multiple values separated by <code class="language-plaintext highlighter-rouge">;</code></td>
    </tr>
    <tr>
      <td>affil</td>
      <td>y</td>
      <td>n</td>
      <td>Virtual field searching across <code class="language-plaintext highlighter-rouge">aff_abbrev</code>, <code class="language-plaintext highlighter-rouge">aff_canonical</code>, <code class="language-plaintext highlighter-rouge">aff_id</code>, <code class="language-plaintext highlighter-rouge">institution</code>, <code class="language-plaintext highlighter-rouge">aff</code></td>
    </tr>
    <tr>
      <td>alternate_bibcode</td>
      <td>y</td>
      <td>y</td>
      <td>List of alternate bibcodes for the document</td>
    </tr>
    <tr>
      <td>alternate_title</td>
      <td>y</td>
      <td>y</td>
      <td>Alternate title, usually when the original title is not in English</td>
    </tr>
    <tr>
      <td>arxiv_class</td>
      <td>y</td>
      <td>y</td>
      <td>arXiv class the paper was submitted to</td>
    </tr>
    <tr>
      <td>author</td>
      <td>y</td>
      <td>y</td>
      <td>List of authors on a paper (multivalued field, order is preserved; see <code class="language-plaintext highlighter-rouge">aff*</code> and <code class="language-plaintext highlighter-rouge">orcid*</code> fields for additional details)</td>
    </tr>
    <tr>
      <td>author_count</td>
      <td>y</td>
      <td>y</td>
      <td>Number of authors on a paper (integer)</td>
    </tr>
    <tr>
      <td>author_facet</td>
      <td>y</td>
      <td>n</td>
      <td>Contains normalized version of the author name, cannot be retrieved but useful for faceting</td>
    </tr>
    <tr>
      <td>author_facet_hier</td>
      <td>y</td>
      <td>n</td>
      <td>Hierarchical facet for author names, the levels can be used to limit result sets - i.e. <code class="language-plaintext highlighter-rouge">0/Surname</code> -&gt; <code class="language-plaintext highlighter-rouge">1/Surname/N</code> or <code class="language-plaintext highlighter-rouge">1/Surname/Name</code></td>
    </tr>
    <tr>
      <td>author_norm</td>
      <td>y</td>
      <td>y</td>
      <td>List of authors with their first name initialized (see <code class="language-plaintext highlighter-rouge">author_facet</code>)</td>
    </tr>
    <tr>
      <td>bibcode</td>
      <td>y</td>
      <td>y</td>
      <td>ADS identifier of a paper</td>
    </tr>
    <tr>
      <td>bibgroup</td>
      <td>y</td>
      <td>y</td>
      <td>Bibliographic group that the bibcode belongs to (curated by staff outside of ADS)</td>
    </tr>
    <tr>
      <td>bibgroup_facet</td>
      <td>y</td>
      <td>n</td>
      <td>As above, but can only be searched and faceted on</td>
    </tr>
    <tr>
      <td>bibstem</td>
      <td>y</td>
      <td>y</td>
      <td>the abbreviated name of the journal or publication, e.g., ApJ. Full lists of bibstems can be found <a href="http://adsabs.harvard.edu/abs_doc/journal_abbr.html">here</a></td>
    </tr>
    <tr>
      <td>bibstem_facet</td>
      <td>y</td>
      <td>n</td>
      <td>Technical field, used for faceting by publication. It contains only bibstems without volumes (eg. <code class="language-plaintext highlighter-rouge">Sci</code>)</td>
    </tr>
    <tr>
      <td>body</td>
      <td>y</td>
      <td>n</td>
      <td>Contains extracted fulltext minus acknowledgements section</td>
    </tr>
    <tr>
      <td>book_author</td>
      <td>y</td>
      <td>y</td>
      <td>The name will be also in <code class="language-plaintext highlighter-rouge">author</code> field; but not the other way around</td>
    </tr>
    <tr>
      <td>caption</td>
      <td>y</td>
      <td>y</td>
      <td>Captions extracted from illustrations/tables</td>
    </tr>
    <tr>
      <td>citation</td>
      <td>y</td>
      <td>y</td>
      <td>List of bibcodes that cite the paper</td>
    </tr>
    <tr>
      <td>citation_count</td>
      <td>y</td>
      <td>y</td>
      <td>Number of citations the item has received</td>
    </tr>
    <tr>
      <td>citation_count_norm</td>
      <td>y</td>
      <td>y</td>
      <td>Number of citations normalized by <code class="language-plaintext highlighter-rouge">author_count</code></td>
    </tr>
    <tr>
      <td>cite_read_boost</td>
      <td>y</td>
      <td>y</td>
      <td>Float values containing normalized (float) boost factors. These can be used with functional queries to modify ranking of results.</td>
    </tr>
    <tr>
      <td>classic_factor</td>
      <td>y</td>
      <td>y</td>
      <td>Integer values containing the boost factor used by ADS Classic. In essence log(1 + cites + norm_reads) where number of citations has been normalized and the whole value is multiplied by 5000 and then cast to Integer.</td>
    </tr>
    <tr>
      <td>comment</td>
      <td>y</td>
      <td>y</td>
      <td>Kitchen sink for holding various bits of information not available elsewhere (probably only useful if you are curating ADS records)</td>
    </tr>
    <tr>
      <td>copyright</td>
      <td>y</td>
      <td>y</td>
      <td>Copyright given by the publisher</td>
    </tr>
    <tr>
      <td>data</td>
      <td>y</td>
      <td>y</td>
      <td>List of sources that hold data associated with this paper (record) - format is <code class="language-plaintext highlighter-rouge">name:count</code>, i.e. <code class="language-plaintext highlighter-rouge">Chandra:3</code></td>
    </tr>
    <tr>
      <td>data_facet</td>
      <td>y</td>
      <td>n</td>
      <td>Data sources for the paper (without counts, but the counts can be retrieved when faceting on the values of this field)</td>
    </tr>
    <tr>
      <td>database</td>
      <td>y</td>
      <td>y</td>
      <td>Database (collection) into which the paper was classified, a paper can belong to more than one</td>
    </tr>
    <tr>
      <td>date</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable version of <code class="language-plaintext highlighter-rouge">pubdate</code>, time format: <code class="language-plaintext highlighter-rouge">YYYY-MM-DD'T'hh:mm:ss.SSS'Z'</code></td>
    </tr>
    <tr>
      <td>doctype</td>
      <td>y</td>
      <td>y</td>
      <td>Types of document: abstract, article, book, bookreview, catalog, circular, editorial, eprint, erratum, inbook, inproceedings, mastersthesis, misc, newsletter, obituary, phdthesis, pressrelease, proceedings, proposal, software, talk, techreport</td>
    </tr>
    <tr>
      <td>doctype_facet_hier</td>
      <td>y</td>
      <td>n</td>
      <td>Hierarchical facets consisting of nested document types</td>
    </tr>
    <tr>
      <td>doi</td>
      <td>y</td>
      <td>y</td>
      <td>Digital object identifier</td>
    </tr>
    <tr>
      <td>editor</td>
      <td>y</td>
      <td>y</td>
      <td>Typically for books or series, similar rules to <code class="language-plaintext highlighter-rouge">book_author</code></td>
    </tr>
    <tr>
      <td>eid</td>
      <td>y</td>
      <td>y</td>
      <td>Electronic id of the paper (equivalent of page number)</td>
    </tr>
    <tr>
      <td>email</td>
      <td>y</td>
      <td>n</td>
      <td>List of e-mails for the authors that included them in the article (is only accessible to users with elevated privileges)</td>
    </tr>
    <tr>
      <td>entdate</td>
      <td>y</td>
      <td>y</td>
      <td>Creation date of ADS record in user-friendly format (YYYY-MM-DD)</td>
    </tr>
    <tr>
      <td>entry_date</td>
      <td>y</td>
      <td>y</td>
      <td>Creation date of ADS record in RFC 3339 (machine-readable) format</td>
    </tr>
    <tr>
      <td>esources</td>
      <td>y</td>
      <td>y</td>
      <td>Types of electronic sources available for a record (e.g. pub_html, eprint_pdf)</td>
    </tr>
    <tr>
      <td>facility</td>
      <td>y</td>
      <td>y</td>
      <td>List of facilities declared in paper (low count field for now)</td>
    </tr>
    <tr>
      <td>first_author</td>
      <td>y</td>
      <td>y</td>
      <td>First author of the paper</td>
    </tr>
    <tr>
      <td>first_author_facet_hier</td>
      <td>y</td>
      <td>n</td>
      <td>See <code class="language-plaintext highlighter-rouge">author_facet_hier</code></td>
    </tr>
    <tr>
      <td>first_author_norm</td>
      <td>y</td>
      <td>n</td>
      <td>See <code class="language-plaintext highlighter-rouge">author_norm</code></td>
    </tr>
    <tr>
      <td>fulltext_mtime</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when a fulltext was updated</td>
    </tr>
    <tr>
      <td>grant</td>
      <td>y</td>
      <td>y</td>
      <td>Field that contains both grant ids and grant agencies.</td>
    </tr>
    <tr>
      <td>grant_facet_hier</td>
      <td>y</td>
      <td>n</td>
      <td>Hierarchical facet field which contains grant/grant_id. This field is not suitable for user queries, but rather for UI components. Term frequencies and positions are deactivated.</td>
    </tr>
    <tr>
      <td>id</td>
      <td>y</td>
      <td>y</td>
      <td>Internal identifier of a record, does not change with reindexing but users are advised to not rely on contents of this field</td>
    </tr>
    <tr>
      <td>identifier</td>
      <td>y</td>
      <td>n</td>
      <td>A field that can be used to search an array of alternative identifiers for the record. May contain alternative bibcodes, DOIs and/or arxiv ids.</td>
    </tr>
    <tr>
      <td>indexstamp</td>
      <td>y</td>
      <td>y</td>
      <td>Date at which the record was indexed <code class="language-plaintext highlighter-rouge">YYYY-MM-DD'T'hh:mm:ss.SSS'Z'</code></td>
    </tr>
    <tr>
      <td>inst</td>
      <td>y</td>
      <td>n</td>
      <td>Virtual field to search across <code class="language-plaintext highlighter-rouge">aff_id</code>, and <code class="language-plaintext highlighter-rouge">institution</code></td>
    </tr>
    <tr>
      <td>institution</td>
      <td>y</td>
      <td>n</td>
      <td>List of curated affiliations (institutions) in a given paper. See <a href="https://github.com/adsabs/CanonicalAffiliations/blob/master/parent_child.tsv">institution data</a></td>
    </tr>
    <tr>
      <td>isbn</td>
      <td>y</td>
      <td>y</td>
      <td>ISBN of the publication (this applies to books)</td>
    </tr>
    <tr>
      <td>issn</td>
      <td>y</td>
      <td>y</td>
      <td>ISSN of the publication (applies to journals - ie. periodical publications)</td>
    </tr>
    <tr>
      <td>issue</td>
      <td>y</td>
      <td>y</td>
      <td>Issue number of the journal that includes the article</td>
    </tr>
    <tr>
      <td>keyword</td>
      <td>y</td>
      <td>y</td>
      <td>Array of normalized and non-normalized keywords</td>
    </tr>
    <tr>
      <td>keyword_facet</td>
      <td>y</td>
      <td>n</td>
      <td>Like <code class="language-plaintext highlighter-rouge">keyword</code> but used for faceting</td>
    </tr>
    <tr>
      <td>keyword_norm</td>
      <td>y</td>
      <td>y</td>
      <td>Controlled keywords, if it was identified</td>
    </tr>
    <tr>
      <td>keyword_schema</td>
      <td>y</td>
      <td>y</td>
      <td>Schema for each controlled keyword, i.e., the schema of a <code class="language-plaintext highlighter-rouge">keyword</code> if it can be assigned</td>
    </tr>
    <tr>
      <td>lang</td>
      <td>y</td>
      <td>y</td>
      <td>In ADS this field contains a language of the main title. Currently, this value is present in a very small portion of records</td>
    </tr>
    <tr>
      <td>links_data</td>
      <td>y</td>
      <td>y</td>
      <td>Internal data structure with information for generating links to external sources (API users are advised to use link resolver service instead)</td>
    </tr>
    <tr>
      <td>metadata_mtime</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when bibliographic metadata was updated</td>
    </tr>
    <tr>
      <td>metrics_mtime</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when citations metrics were updated</td>
    </tr>
    <tr>
      <td>ned_object_facet_hier</td>
      <td>y</td>
      <td>y</td>
      <td>Hierarchical <code class="language-plaintext highlighter-rouge">Level/Parent/Child</code> entry for NED objects</td>
    </tr>
    <tr>
      <td>nedid</td>
      <td>y</td>
      <td>y</td>
      <td>List of NED IDs within a record</td>
    </tr>
    <tr>
      <td>nedtype</td>
      <td>y</td>
      <td>y</td>
      <td>Keywords used to describe the NED type (e.g. galaxy, star)</td>
    </tr>
    <tr>
      <td>nedtype_object_facet_hier</td>
      <td>y</td>
      <td>n</td>
      <td>Hierarchical facet consisting of NED object type and ID</td>
    </tr>
    <tr>
      <td>nonbib_mtime</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when non-bibliographic metadata was updated</td>
    </tr>
    <tr>
      <td>orcid</td>
      <td>y</td>
      <td>n</td>
      <td>Virtual field to search across all orcid fields</td>
    </tr>
    <tr>
      <td>orcid_mtime</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when data were fetched from ORCiD</td>
    </tr>
    <tr>
      <td>orcid_other</td>
      <td>y</td>
      <td>y</td>
      <td>ORCID claims from users who used the ADS claiming interface, but did not give us consent to show their profiles</td>
    </tr>
    <tr>
      <td>orcid_pub</td>
      <td>y</td>
      <td>y</td>
      <td>ORCID IDs supplied by publishers</td>
    </tr>
    <tr>
      <td>orcid_user</td>
      <td>y</td>
      <td>y</td>
      <td>ORCID claims from users who gave ADS consent to expose their public profiles.</td>
    </tr>
    <tr>
      <td>page</td>
      <td>y</td>
      <td>y</td>
      <td>First page of a record</td>
    </tr>
    <tr>
      <td>page_count</td>
      <td>y</td>
      <td>y</td>
      <td>If page_range is present, gives the difference between the first and last page numbers in the range</td>
    </tr>
    <tr>
      <td>property</td>
      <td>y</td>
      <td>y</td>
      <td>Array of miscellaneous flags associated with the record. For possible values see <a href="search-syntax#properties">Properties</a>.</td>
    </tr>
    <tr>
      <td>pub</td>
      <td>y</td>
      <td>y</td>
      <td>Canonical name of the publication the record appeared in</td>
    </tr>
    <tr>
      <td>pub_raw</td>
      <td>y</td>
      <td>y</td>
      <td>Name of publisher, but also includes the volume, page, and issue if they exist</td>
    </tr>
    <tr>
      <td>pubdate</td>
      <td>y</td>
      <td>y</td>
      <td>Publication date in the form <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code> (DD value will always be “00”) - corresponds to the old version of metadata timestamps (ADS Classic)</td>
    </tr>
    <tr>
      <td>publisher</td>
      <td>y</td>
      <td>y</td>
      <td>Low frequency field, internal use</td>
    </tr>
    <tr>
      <td>pubnote</td>
      <td>y</td>
      <td>y</td>
      <td>Comments submitted with the arXiv version of the paper</td>
    </tr>
    <tr>
      <td>read_count</td>
      <td>y</td>
      <td>y</td>
      <td>Number of times the record has been viewed in a 90-day windows (by users from ADS and arXiv – aggregate value)</td>
    </tr>
    <tr>
      <td>reader</td>
      <td>y</td>
      <td>n</td>
      <td>List of (anonymized) identifiers for people who have read the article</td>
    </tr>
    <tr>
      <td>recid</td>
      <td>y</td>
      <td>y</td>
      <td>Unique identifier of the document, Integer version of ‘id’ - more efficient for sorting, and range queries</td>
    </tr>
    <tr>
      <td>reference</td>
      <td>y</td>
      <td>y</td>
      <td>List of (identified/resolved) references from the paper</td>
    </tr>
    <tr>
      <td>series</td>
      <td>y</td>
      <td>y</td>
      <td>Information about conference series</td>
    </tr>
    <tr>
      <td>simbad_object_facet_hier</td>
      <td>y</td>
      <td>y</td>
      <td>The hierarchical facets consisting of SIMBAD <code class="language-plaintext highlighter-rouge">object_type/object_id</code></td>
    </tr>
    <tr>
      <td>simbid</td>
      <td>y</td>
      <td>y</td>
      <td>List of SIMBAD IDs within the paper</td>
    </tr>
    <tr>
      <td>simbtype</td>
      <td>y</td>
      <td>y</td>
      <td>Keywords used to describe the SIMBAD type</td>
    </tr>
    <tr>
      <td>title</td>
      <td>y</td>
      <td>y</td>
      <td>Title of the record</td>
    </tr>
    <tr>
      <td>update_timestamp</td>
      <td>y</td>
      <td>y</td>
      <td>Machine readable modification timestamp; corresponds to time when the record was reindexed</td>
    </tr>
    <tr>
      <td>vizier</td>
      <td>y</td>
      <td>y</td>
      <td>Keywords, “subject” tags from VizieR</td>
    </tr>
    <tr>
      <td>vizier_facet</td>
      <td>y</td>
      <td>y</td>
      <td>Contains list of VizieR keywords with the number of occurences that keyword has for the search</td>
    </tr>
    <tr>
      <td>volume</td>
      <td>y</td>
      <td>y</td>
      <td>Volume of the journal that the article exists in</td>
    </tr>
    <tr>
      <td>year</td>
      <td>y</td>
      <td>y</td>
      <td>Year of publication</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th><strong>Functional Operators</strong></th>
      <th><strong>Example</strong></th>
      <th><strong>Explanation</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="../search/citations-and-references">citations()</a></td>
      <td><code class="language-plaintext highlighter-rouge">citations(aff:MIT)</code></td>
      <td>Returns list of citations for papers matching the inner query; use <code class="language-plaintext highlighter-rouge">fl=[citations]</code> to retrieve the field contents</td>
    </tr>
    <tr>
      <td><a href="../search/positional">pos()</a></td>
      <td><code class="language-plaintext highlighter-rouge">pos(author:accomazzi, 1, 5)</code></td>
      <td>The pos() operator allows you to search for an item within a field by specifying the position  (range). The syntax for this operator is <code class="language-plaintext highlighter-rouge">pos(fieldedquery,position,[endposition])</code>. If no endposition is given, then it is assumed to be endposition = position, otherwise this performs a query within the range [position, endposition].</td>
    </tr>
    <tr>
      <td><a href="../search/citations-and-references">references()</a></td>
      <td><code class="language-plaintext highlighter-rouge">references(author:huchra)</code></td>
      <td>Returns list of references from papers matching the inner query</td>
    </tr>
    <tr>
      <td><a href="../search/second-order">reviews()</a></td>
      <td><code class="language-plaintext highlighter-rouge">reviews(title:"monte carlo")</code></td>
      <td>returns the list of documents citing the most relevant papers on the topic being researched; these are papers containing the most extensive reviews of the field.</td>
    </tr>
    <tr>
      <td><a href="../search/second-order">similar()</a></td>
      <td><code class="language-plaintext highlighter-rouge">similar(title:hubble^2, abstract, 100)</code><br /><code class="language-plaintext highlighter-rouge">similar("hubble space telescope", input)</code></td>
      <td>Find similar documents, either based on their similarity with the documents from the inner query or similar to the text that you supplied. <br /><br />Format: <code class="language-plaintext highlighter-rouge">similar(queryOrText, fields, maxQueryTerms, docToSearch, minTermFreq, minDocFreq, percentToMatch)</code>. <br /><br />- <code class="language-plaintext highlighter-rouge">queryOrText</code>: string, this can be a query or input <br />- <code class="language-plaintext highlighter-rouge">fields</code>: list of fields separated by spaces, or special token ‘input’ which means use the query as is, as input <br />- <code class="language-plaintext highlighter-rouge">maxQueryTerms</code>: modifies similarity search, only this many terms will be considered during the search (those terms are NOT the first X collected, but they will be the first X terms weighted by TFIDF - term frequency/inverse document frequency) <br />- <code class="language-plaintext highlighter-rouge">docToSearch</code>: how many documents to collect in the first phase, is ignored when fields=’input’ <br />- <code class="language-plaintext highlighter-rouge">minTermFreq</code>: term is selected only if its frequency is this or higher - minDocFreq: selected term must be present in at least that many documents <br />- <code class="language-plaintext highlighter-rouge">percentToMatch</code>: ratio of terms that have to be present in the selected documents, default is 0.0f. For example, if 100 terms was used to discover similar docs, and if the ratio was 0.3f - then 30 terms must be present in the docs that are returned.</td>
    </tr>
    <tr>
      <td><a href="../search/second-order">topn()</a></td>
      <td><code class="language-plaintext highlighter-rouge">topn(200, citations(title:hubble), citation_count desc)</code></td>
      <td>Limit results to the best top N (by their ranking or sort order); format: <code class="language-plaintext highlighter-rouge">topn(int, query, 'sort order')</code>. If the sort order is not specified, the default <code class="language-plaintext highlighter-rouge">score desc</code> will be used.</td>
    </tr>
    <tr>
      <td><a href="../search/second-order">trending()</a></td>
      <td><code class="language-plaintext highlighter-rouge">trending("machine learning")</code></td>
      <td>Trending – returns the list of documents most read by users who read recent papers on the topic being researched; these are papers currently being read by people interested in this field.</td>
    </tr>
    <tr>
      <td><a href="../search/second-order">useful() </a></td>
      <td><code class="language-plaintext highlighter-rouge">useful("gradient descent")</code></td>
      <td>Useful – returns the list of documents frequently cited by the most relevant papers on the topic being researched; these are studies which discuss methods and techniques useful to conduct research in this field.</td>
    </tr>
    <tr>
      <td>docs()</td>
      <td><code class="language-plaintext highlighter-rouge">docs(library/hHGU1Ef-TpacAhicI3J8kQ)</code></td>
      <td>Retrieve set of documents specified by their IDs. You can think of this as a set operator; it will fill the set with documents that correspond to identifiers that are passed in. And this set can then be combined with other queries (i.e. <code class="language-plaintext highlighter-rouge">docs(A) NOT author:huchra</code>)</td>
    </tr>
  </tbody>
</table>

      
    <h3>(Advanced) Search Syntax</h3>
    <p>The following page describes extra details about the search syntax not found in the otherwise comprehensive <a href="search-syntax">search syntax help</a>.</p>

<h2 id="big-picture">Big Picture</h2>

<p>The search has two distinct phases:</p>

<ol>
  <li>building query</li>
  <li>executing query, collecting results</li>
</ol>

<p>The first phase is what we are going to discuss here. We’ll break it down further into:</p>

<ol>
  <li>parsing text into the AST (abstract syntax tree)</li>
  <li>modifying the query tree (semantic parsing)</li>
  <li>building the query object</li>
</ol>

<h2 id="parsing-text-into-ast">Parsing text into AST</h2>

<p>The <a href="https://github.com/romanchyla/montysolr/blob/master/contrib/adsabs/grammars/ADS.g">Search Grammar</a> defines the search language of ADS. It is a context-free grammar and it is used to generate a client library (<a href="https://www.antlr.org/">by ANTLR</a>).</p>

<p>If you don’t like reading context-free computer grammars (who does?) you’ll find a good explanation of ADS syntax here: <a href="search-syntax">search syntax help</a>.</p>

<p>But as a reward for having found this obscure corner of the help, we’ll illustrate a few more special situations not covered there.</p>

<h3 id="operators">Operators</h3>

<p>The search operators have the following precedence (from higher to lower priority): <code class="language-plaintext highlighter-rouge">NEARx -&gt; NOT -&gt; AND -&gt; OR -&gt; " "</code></p>

<p>Some details worth mentioning:</p>

<p><strong>Empty space is the default</strong></p>

<p>Better to illustrate it by way of examples:</p>

<p><code class="language-plaintext highlighter-rouge">jim and john not mary</code> becomes behind the scenes: <code class="language-plaintext highlighter-rouge">(jim AND (john NOT mary))</code> because <code class="language-plaintext highlighter-rouge">NOT</code> has precedence over <code class="language-plaintext highlighter-rouge">AND</code>. But <code class="language-plaintext highlighter-rouge">john jim and mary</code> becomes <code class="language-plaintext highlighter-rouge">(john AND (jim AND mary))</code> because <code class="language-plaintext highlighter-rouge">AND</code> operator has precedence over empty space (operator) – notice how <code class="language-plaintext highlighter-rouge">jim and mary</code> is evaluated as a group: i.e. the query is <strong>not</strong> parsed as <code class="language-plaintext highlighter-rouge">john AND jim AND mary</code>. That is a behaviour <strong>right now</strong> and the stress is on <strong>now</strong>; for the time being ADS search defaults to <code class="language-plaintext highlighter-rouge">AND</code> logic for the search operations. We are returning results that contain all the elements of the query. The reasons for this default behaviour are complex (and for the most part obsolete – more on that later). This behaviour can change in the future if ADS switches to a different default operator (<code class="language-plaintext highlighter-rouge">OR</code>) and makes sorting by relevancy the default sort order. Such a change would be (potentially highly) beneficial but would also change the order of how things get parsed. To make it clearer, if we ever change the default operator to (e.g.) <code class="language-plaintext highlighter-rouge">OR</code> - then <code class="language-plaintext highlighter-rouge">john jim and mary</code> will be evaluated as <code class="language-plaintext highlighter-rouge">(jim OR (john AND mary))</code></p>

<p><strong>You can modify the default operator</strong></p>

<p>It can also be changed on demand by adding <code class="language-plaintext highlighter-rouge">q.op=OR</code> into URL parameters (i.e. NOT inside the search form), in which case the logic will change dramatically. For any given query the results will contain many more records, but if sorted by relevancy score, the top items will be still the ones returned with the default <code class="language-plaintext highlighter-rouge">AND</code> operator.</p>

<p><strong>ADS supports proximity searches</strong></p>

<p>Yes, many people may not know about it, but you can do stuff like: <code class="language-plaintext highlighter-rouge">title:(dog NEAR5 cat)</code> – this will find any mention of the barking animal appearing up to 5 words (tokens) from the meowing animal. The <code class="language-plaintext highlighter-rouge">NEAR</code> has to be followed by a number [1-5] and it will not care about the order; i.e. <code class="language-plaintext highlighter-rouge">cat NEAR5 dog</code> == <code class="language-plaintext highlighter-rouge">dog NEAR5 cat</code> – this search can be very powerful, especially if applied against fulltext. It can also be quite expensive (computationally) - especially when the search term(s) have synonyms.</p>

<p><strong>There is no in-order proximity operator, but ADS still supports this feature</strong></p>

<p>ADS has a limited support for <strong>in-order proximity</strong> - if you make a phrase search like so <code class="language-plaintext highlighter-rouge">abs:"newtonian solar"~3</code> the word <code class="language-plaintext highlighter-rouge">newtonian</code> (and its synonyms) will have to be followed by <code class="language-plaintext highlighter-rouge">solar</code> (and its synonyms) for up to 3 positions away. We do not have a special operator for it though; if what you search for has more than 2 words, we’ll decide how far apart they can be. For example if you do <code class="language-plaintext highlighter-rouge">abs:"one two three"~3</code> then <code class="language-plaintext highlighter-rouge">one</code> may be 3 words away from <code class="language-plaintext highlighter-rouge">two three</code> (and it doesn’t matter that there are really 4 tokens between <code class="language-plaintext highlighter-rouge">one</code> and <code class="language-plaintext highlighter-rouge">three</code>).</p>

<h3 id="syntax-parsing">Syntax Parsing</h3>

<p>OK, so back to the syntactic parsing – how does it actually work? We have a formal grammar which describes the query language. Based on that, we have generated a library (in Java) which is included inside SOLR, our search engine. When SOLR receives the user input, before it can start searching for documents, the user query (string) will be turned into a query object. And that is the objective of the parser. First comes the syntactic phase during which an ANTLR parser will be ‘eating’ input character by character. It will occassionally veer off to explore a possible (alternative) branch, to either pursue it further or return back and start branching from some previous position. The input has to be syntactically correct; if we explored all possible readings and there are still some input characters left, it means the input is non-conforming and we’ll generate an exception and give up.</p>

<p>This is a feature, but it is borderline feature/bug. The syntax parser is <code class="language-plaintext highlighter-rouge">unforgiving</code> (that is the actual name of the class in Java). It would be possible (and the sensible thing to do) to actually first try to parse the input and on failure try again with some less unforgiving parser; but we have never gotten to it – so perhaps in the future… just know that if the parser encounters an error, it will generate an exception and the exception will actually say why/what has failed.</p>

<p>If the query is correct, however, after the parser is finished parsing, we’ll have the <strong>AST</strong> (Abstract Syntax Tree): a hierarchical datastructure (a tree) instead of the flat chain of characters.</p>

<p>Here an example (it is only an illustration, inside the search engine the AST will be richer):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"(this) (that)" 	-&gt;	
                            (DEFOP 
(CLAUSE (                               (CLAUSE (
    DEFOP (                                 DEFOP (
        MODIFIER (                              MODIFIER (
            TMODIFIER (                             TMODIFIER (
                FIELD (                                 FIELD (
                    QNORMAL this))))))                      QNORMAL that)))))))
</code></pre></div></div>

<p>In human words: the input <code class="language-plaintext highlighter-rouge">(this) (that)</code> has been parsed into an <code class="language-plaintext highlighter-rouge">AST</code>; the tree starts at a <code class="language-plaintext highlighter-rouge">DEFOP</code> node (default operator) which has two children (<code class="language-plaintext highlighter-rouge">CLAUSE</code>s). Each <code class="language-plaintext highlighter-rouge">CLAUSE</code> itself is made of a strict chain of components: <code class="language-plaintext highlighter-rouge">DEFOP-&gt;MODIFIER-&gt;TMODIFIER-&gt;FIELD</code> – they are all empty (with implicit value of none). It is only after we have arrived to a terminus <code class="language-plaintext highlighter-rouge">QNORMAL</code> that we also see values. Inside the tree, we will have information about every bracket, position, and links to parent/children.</p>

<p>This tree will be further modified in the next phase.</p>

<h3 id="semantic-parsing">Semantic Parsing</h3>

<p>There is a lot of magic that happens in this next phase. All of it is defined inside the <a href="https://github.com/romanchyla/montysolr/blob/master/contrib/adsabs/src/java/org/apache/lucene/queryparser/flexible/aqp/AqpAdsabsNodeProcessorPipeline.java">pipeline</a>.</p>

<p>Pro tip: if you add <code class="language-plaintext highlighter-rouge">debugQuery=true</code> to your search request URL parameters (and look at the data as returned by our API), you’ll see the serialized version of the query as parsed by SOLR. For example</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"debug":{
    "rawquerystring":"abs:\"newtonian solar\"~3",
    "querystring":"abs:\"newtonian solar\"~3",
    "parsedquery":"CustomScoreQuery(custom(abstract:\"syn::newton syn::solar\"~3 title:\"syn::newton syn::solar\"~3 keyword:\"syn::newton syn::solar\"~3, sum(float(cite_read_boost),const(0.5))))",
    "parsedquery_toString":"custom(abstract:\"syn::newton syn::solar\"~3 title:\"syn::newton syn::solar\"~3 keyword:\"syn::newton syn::solar\"~3, sum(float(cite_read_boost),const(0.5)))",
    ...
}
</code></pre></div></div>

<p>Pro tip (II): If you had access to STDOUT/logging of the SOLR instance, you would see LOTS of details; each and every step in the query pipeline produces output. This information is however only printed to STDOUT - and so only ADS engineers can really see it. Here is an example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 57. step class org.apache.lucene.queryparser.flexible.standard.processors.MultiTermRewriteMethodProcessor
 Tree changed: NO

--------------------------------------------
 58. step class org.apache.lucene.queryparser.flexible.aqp.processors.AqpGroupQueryOptimizerProcessor
 Tree changed: YES
 Tags changed: YES
 -----------------
abstract:newtonian : {token_type_attribute=word, max_branch_size=2}
abstract:syn\:\:newton : {token_type_attribute=SYNONYM, max_branch_size=2}
abstract:solar : {token_type_attribute=word, max_branch_size=2}
abstract:syn\:\:solar : {token_type_attribute=SYNONYM, max_branch_size=2}
title:newtonian : {token_type_attribute=word, max_branch_size=2}
title:syn\:\:newton : {token_type_attribute=SYNONYM, max_branch_size=2}
title:solar : {token_type_attribute=word, max_branch_size=2}
title:syn\:\:solar : {token_type_attribute=SYNONYM, max_branch_size=2}
keyword:newtonian : {token_type_attribute=word, max_branch_size=2}
keyword:syn\:\:newton : {token_type_attribute=SYNONYM, max_branch_size=2}
keyword:solar : {token_type_attribute=word, max_branch_size=2}
keyword:syn\:\:solar : {token_type_attribute=SYNONYM, max_branch_size=2}
    -----------------
&lt;boolean operation='or'&gt;
&lt;slop value='4'&gt;
&lt;multiPhrase&gt;
&lt;field start='5' end='14' field='abstract' text='newtonian'/&gt;
&lt;field start='5' end='14' field='abstract' text='syn::newton'/&gt;
&lt;field start='15' end='20' field='abstract' text='solar'/&gt;
&lt;field start='15' end='20' field='abstract' text='syn::solar'/&gt;
&lt;/multiPhrase&gt;
&lt;/slop&gt;
&lt;slop value='4'&gt;
&lt;multiPhrase&gt;
&lt;field start='5' end='14' field='title' text='newtonian'/&gt;
&lt;field start='5' end='14' field='title' text='syn::newton'/&gt;
&lt;field start='15' end='20' field='title' text='solar'/&gt;
&lt;field start='15' end='20' field='title' text='syn::solar'/&gt;
&lt;/multiPhrase&gt;
&lt;/slop&gt;
&lt;slop value='4'&gt;
&lt;multiPhrase&gt;
&lt;field start='5' end='14' field='keyword' text='newtonian'/&gt;
&lt;field start='5' end='14' field='keyword' text='syn::newton'/&gt;
&lt;field start='15' end='20' field='keyword' text='solar'/&gt;
&lt;field start='15' end='20' field='keyword' text='syn::solar'/&gt;
&lt;/multiPhrase&gt;
&lt;/slop&gt;
&lt;/boolean&gt;
--------------------------------------------
 59. step class org.apache.lucene.queryparser.flexible.aqp.processors.AqpOptimizationProcessor
 Tree changed: NO
</code></pre></div></div>

<p>There are over 60 steps inside the pipeline, some of them extremely complex (see for example <a href="author-search">author search</a>) and some simple. We cannot describe here everything that happens there; but we should point out that the pipeline is like a chain of transducers. Each component will see the <code class="language-plaintext highlighter-rouge">AST</code>, it will modify it and then processing switches to the next component. There are pre- and post- stages; which would correspond to in-order and post-order traversal of the tree. And in some situations the parser will invoke itself, so it is like a coiled snake eating its own tail – is it messy? Perhaps, but we’d add that it is only as messy as it needs to be. The work done by the parser is extremely important, it is a complicated job of transforming, extending, cutting, slicing and re-constructing the query. It is complicated because it has to be, but it is also very powerful. And it keeps evolving with ADS users and their requests.</p>

<h2 id="building-the-query-object">Building the Query Object</h2>

<p>Once every component has finished modifying the AST, we had pruned the tree into almost a flat list of parent/child relationships. At the end of those 60 transducers, we have a much lighter AST. This object is passed to <a href="https://github.com/romanchyla/montysolr/blob/master/contrib/adsabs/src/java/org/apache/lucene/queryparser/flexible/aqp/AqpAdsabsQueryTreeBuilder.java"><code class="language-plaintext highlighter-rouge">query builders</code></a>. Their job is to turn this modified semantic tree into <strong>query objects</strong> as understood by Lucene/SOLR. That <code class="language-plaintext highlighter-rouge">Query</code> object is then responsible for selecting <strong>and</strong> scoring documents based on the users input and the query parameters that came with it or were presented by default.</p>

<p>The majority of those query objects are typical Lucene/SOLR citizens such as <code class="language-plaintext highlighter-rouge">BooleanQuery</code>, <code class="language-plaintext highlighter-rouge">TermQuery</code>. During the life of ADS a few more (specialized) categories have been added, e.g:</p>

<ul>
  <li>BitSetQuery: allows ADS users to select documents based on the list of IDs (this supports a very large number of identifiers; millions of them)</li>
  <li><a href="second-order">SecondOrderQuery</a></li>
</ul>

<h2 id="special-parameters-affecting-search">Special Parameters Affecting Search</h2>

<p>There is a plethora of options that will affect how the search is executed, many of them are described directly in the <a href="https://solr.apache.org/guide/7_3/common-query-parameters.html">SOLR documentation</a>.</p>

<p>Here are some ADS specific ones that can be changed:</p>

<h3 id="aqpunfieldedtokensstrategy">aqp.unfielded.tokens.strategy</h3>

<p>Possible values: tag, join, add, multiply, <strong>disjuncts</strong></p>

<p>This controls how we are going to generate additional queries for an unfielded search (i.e. search which omits index field information such as <code class="language-plaintext highlighter-rouge">author:huchra nasa</code>)</p>

<p>Our parser is not smart (slow) enough to see that <code class="language-plaintext highlighter-rouge">nasa</code> is not a name, so encountering this <code class="language-plaintext highlighter-rouge">unfielded</code> part of the query, it can do the following under these circumstances:</p>

<ul>
  <li>tag: produces no query changes, but the unfielded tokens can be seen/used by other components to generate/modify query object</li>
  <li>join: will join the unfielded portion of the query to its prefix effectively saying <code class="language-plaintext highlighter-rouge">author:"huchra nasa"</code> (especially when <strong>aqp.unfielded.tokens.new.type</strong> is phrase)</li>
  <li>add: will construct an additional query with the ambiguous part of the query being searched separately, e.g. (<code class="language-plaintext highlighter-rouge">author:"huchra nasa"</code> OR <code class="language-plaintext highlighter-rouge">+author:huchra +nasa)</code></li>
  <li>multiply: this is very similar to the <code class="language-plaintext highlighter-rouge">add</code> strategy but the difference is in how the resulting query gets parsed; here we are not constructing query objects directly but instead we’ll re-parse the newly constructed query from the string up and therefore we can apply the whole query parsing/building logic to just a portion of the query; the new parser will start from analyzing <code class="language-plaintext highlighter-rouge">author:huchra nasa author:\"huchra nasa\"</code></li>
  <li>disjuncts: our default, this is like the <code class="language-plaintext highlighter-rouge">multiply</code> strategy but instead of adding OR clauses, we will generate a disjunct query which affects scoring. Only the highest scoring portion of the query affects the final score, thus if we programmatically added something to the user’s input or not, it will not artifically inflate the final score</li>
</ul>

<h3 id="aqpunfieldedtokensnewtype">aqp.unfielded.tokens.new.type</h3>

<p>Can be combined with the parameter above; affects what happens to the identified unfielded portion of the query.</p>

<ul>
  <li>simple: our default, tokens are joined together by a white space</li>
  <li>phrase: AST tokens are joined together to produce a phrase AST</li>
  <li>normal: AST tokens are joined together into an AST group (as if the user typed: <code class="language-plaintext highlighter-rouge">(foo bar baz)</code> - i.e. with explicit quotes)</li>
</ul>

<h3 id="aqpunfieldedtokensfunctionname">aqp.unfielded.tokens.function.name</h3>

<p>A function that will be used to reparse the unfielded portion of the query; only applicable for <code class="language-plaintext highlighter-rouge">multiply</code> and <code class="language-plaintext highlighter-rouge">disjuncts</code> strategies. For the list of available functions/operators, see: <a href="https://github.com/romanchyla/montysolr/blob/master/contrib/adsabs/src/java/org/apache/lucene/queryparser/flexible/aqp/builders/AqpAdsabsSubQueryProvider.java">query functions</a>. The default is <code class="language-plaintext highlighter-rouge">edismax_combined_aqp</code>.</p>

<h3 id="aqpdefaultoperator">aqp.defaultOperator</h3>

<p>By default, ADS will search using the <code class="language-plaintext highlighter-rouge">AND</code> operator when two search terms are joined only by a space. But if modified (the only sensible option is probably <code class="language-plaintext highlighter-rouge">OR</code>) then this will make the search engine evaluate every search parameter as ‘nice to have’. This is actually better than it sounds, because when sorting search results by score, they will come back ordered by relevancy score (which is the secret sauce that changes so it cannot be described; but users might find the relevancy score to be much better than the ADS defaults).</p>

<h3 id="aqpunfieldedsearch">aqp.unfieldedSearch</h3>

<p>By default, this is the list of fields, with their weights, that get searched when no field is specified: <code class="language-plaintext highlighter-rouge">author^1.5 title^1.4 abstract^1.3</code> – obviously, one could modify this using a URL parameter.</p>

<h3 id="aqpforcefuzzyphrases">aqp.force.fuzzy.phrases</h3>

<p><code class="language-plaintext highlighter-rouge">author,first_author,book_author,editor</code> – these fields, when searched as “some other”~2, will be searched using fuzzy logic.</p>

      
    <h3>(Advanced) Author Search</h3>
    <p>The following section describes, in ugly detail, the logic of author parsing. The rules can (and will) on occassion change. But unless you have to be here and want to really know the details just run, run away from here, quick!</p>

<h2 id="referenced-resources">Referenced resources</h2>

<p><a href="https://github.com/romanchyla/montysolr/blob/master/contrib/examples/adsabs/server/solr/collection1/conf/schema.xml#L30">ADS solr schema</a></p>

<h2 id="big-picture">Big Picture</h2>

<p>OK, so what happens when we search for <code class="language-plaintext highlighter-rouge">author:"john paul II"</code>?</p>

<p>First, the query string is turned into an abstract syntax tree (see <a href="./2021-05-23-search-parser.md">search parser</a> for details) - that is the syntactic (low) level, above it there is the semantic level of parsing and modifications.</p>

<p>The parser will already know we are searching inside field <code class="language-plaintext highlighter-rouge">author</code> - it will also know the tokenizer chain (rules) that apply to that field(s). So it will run the input through the tokenizer, then it will collect various outputs (tokens - more on that later), and then it will further expand/modify/transform these.</p>

<p>Oh, and by the way: there is a slight difference between what we do at <strong>index</strong> time, and at the <strong>search</strong> time. So pay attention to it.</p>

<p>If you are still here, let’s dive in:</p>

<h3 id="down-the-rabbit-hole">Down the Rabbit Hole</h3>

<p>Let’s take one example <code class="language-plaintext highlighter-rouge">author:"Adamczuk, Piotr Gavrilov Eugenyi"</code>. A heraldically attuned audience member will immediately pick up that the guy is probably of Polish or Russian descent, quite likely from a noble family (blue blood runs through his veins so his name may appear next to a honorary title; but who cares? Well, our parser does).</p>

<p>People are unable to remember all his names, not even editors in the scientific publications, and let’s face it, they are of different origins themselves. So, some type his name as <code class="language-plaintext highlighter-rouge">Adamcuk</code>, confuse his name with <code class="language-plaintext highlighter-rouge">Peter</code>, pay no attention to uncle <code class="language-plaintext highlighter-rouge">Gavrilov</code> and can’t decide whether to spell his name as <code class="language-plaintext highlighter-rouge">Evgenij</code>, <code class="language-plaintext highlighter-rouge">Eugenij</code>, <code class="language-plaintext highlighter-rouge">Eugen</code>, <code class="language-plaintext highlighter-rouge">Evzen</code> and so on. Fortunately, there aren’t that many persons of female gender and name <code class="language-plaintext highlighter-rouge">Piotr</code>, but we can’t be sure about that either (yet people will still claim it is crystal clear…)</p>

<p>Anyways, it is complicated - so let’s start. Somebody (fortunately) for us, remembers spelling of the surname and types:</p>

<p><code class="language-plaintext highlighter-rouge">author:peter adamczuk</code></p>

<p>Our <em>search</em> tokenizer is going to take the input in its entirety (i.e. <strong>NO</strong> tokenization into <code class="language-plaintext highlighter-rouge">peter</code> and <code class="language-plaintext highlighter-rouge">adamzuk</code>) and will pass the input to a <a href="https://pypi.org/project/nameparser/">Python library</a>. Since the search engine is written in Java, in reality the library will be executed by Jython - so we are calling Java which looks like Python, but as you can see, I’m sparing you no details…</p>

<p>The library will recognize <code class="language-plaintext highlighter-rouge">surname</code> and <code class="language-plaintext highlighter-rouge">first name</code> correctly most of the time. So <code class="language-plaintext highlighter-rouge">Pope John Paul the II</code> would lose all his titles and become <code class="language-plaintext highlighter-rouge">Paul, John</code> – but we don’t know anything besides the characters. We are not consulting Wikipedia to find out the real name of the Pope, nor the author (at least not yet). And our <code class="language-plaintext highlighter-rouge">Peter</code> is recognized as the first name, and <code class="language-plaintext highlighter-rouge">Adamczuk</code> as the last name.</p>

<p>Next are some boring filters: one of them normalizes the names. <code class="language-plaintext highlighter-rouge">Adamczuk  ,               P </code> becomes <code class="language-plaintext highlighter-rouge">Adamczuk, P</code>, and <code class="language-plaintext highlighter-rouge">Lao'tzu</code> becomes <code class="language-plaintext highlighter-rouge">Lao tzu,</code>. And we also reject any search with 6 or more names. Why? Well, because it can lead to 6^n combinations (in the worst case) in the later stages.</p>

<p>Next comes <strong>transliterations</strong> – what’s that you ask? Well, English is the Lingua Franca of scientific discourse - but only for the past two hundred years. The dominance of English alphabet in all things electronic is also a thing of the past, but humans are forever lazy (or intelligent) and when confronted with <code class="language-plaintext highlighter-rouge">e</code>, <code class="language-plaintext highlighter-rouge">é</code>, <code class="language-plaintext highlighter-rouge">e</code> …. characters, they say ‘Aha! That’s <code class="language-plaintext highlighter-rouge">e</code>’. All accents lost. So naturally, they want to be able to search for <code class="language-plaintext highlighter-rouge">jonas</code> and find <code class="language-plaintext highlighter-rouge">jonáš</code> as well. And so we oblige. Internally at ADS we use <code class="language-plaintext highlighter-rouge">UTF-8</code> character encoding but we don’t force the English-centric writers to think in more than 26 characters of English alphabet. Also by convention, scientific publications oftentimes insist on transliterating native author names into ASCII.</p>

<p>So in the case of <code class="language-plaintext highlighter-rouge">adamczuk, p</code> at this stage we will discover that ADS database contains <code class="language-plaintext highlighter-rouge">adamčuk, peter</code> (we’d see also <code class="language-plaintext highlighter-rouge">adamčuk, p</code> if it was necessary)</p>

<p><strong>Intermezzo #0 - how are transliterations generated/found?</strong></p>

<p>Periodically, small minions at ADS will wake up every week, read all author names and compile a list of the following form:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>adamczuk, p =&gt; adamčuk, p
adamczuk, peter =&gt; adamčuk, peter
adamczuk, pavel =&gt; adamčuk, pavel
</code></pre></div></div>

<p>That is, we have a set of rules - some of them custom to ADS, but the majority stemming from Java Unidecode library (the industry convention) which will transform any non-ASCII input into ASCII <strong>transliterations</strong>. The generated vocabulary of names has at this point millions of entries (2024917 and counting) and contains every non-Latin character that has ever appeared in the ADS database. The dictionary is then used (at search time) to lookup <code class="language-plaintext highlighter-rouge">UTF-8</code> variants when users give us an <code class="language-plaintext highlighter-rouge">ASCII</code> name.</p>

<p>Technical note: the lookup is done via suffix trie (a search tree built by a finite state machine). So even though the dictionary has over 2M distinct entries, the cost of lookup is just the length of the input and the space occupied by the internal datastructure which is a fraction of the original size - if we were counting characters. Our 2M dictionary of names seems large, but still a far cry from the theoretical limit of 2B nodes. For details see <a href="http://blog.mikemccandless.com/2010/12/using-finite-state-transducers-in.html">this nice blogpost</a>.</p>

<p>Another option to solve this problem would be to index the transliterated names alongside with their <code class="language-plaintext highlighter-rouge">UTF-8</code> originals (as ADS Classic used to do – because it could not think in <code class="language-plaintext highlighter-rouge">UTF-8</code>) but as you will see, if you continue reading, the transliterated versions are also used to discover potential synonyms of the author’s names – so either we index all potential variants and derived synonyms, or we do all of that work at search time. There’s no free lunch.</p>

<p><strong>– end of intermezzo #0 —</strong></p>

<p>Back to the rabbit hole: so we got the original input <code class="language-plaintext highlighter-rouge">peter adamzuk</code> -&gt; <code class="language-plaintext highlighter-rouge">adamczuk, peter</code>, we have discovered the transliteration (<code class="language-plaintext highlighter-rouge">adamčuk, peter</code>). Next we proceed to discover all other names of this guy/gal. Maybe he/she got married, divorced, changed gender, remarried … whatever the reason, the world is changing. ADS curators are being notified by authors or readers all the time and update our ‘knowledge base’ of author names. That is what gets consulted in this step. We’ll discover that <code class="language-plaintext highlighter-rouge">adamčuk, peter</code> was previously <code class="language-plaintext highlighter-rouge">adamčuková, petra</code> (the name is made up, but such situations will exist).</p>

<p>Next, we’ll use all of the name variants discovered so far, and take one step further – we’ll generate possible name variations, so for example authors with more than 2 names <code class="language-plaintext highlighter-rouge">zeta john jones</code> – they could be known in the scientific literature as <code class="language-plaintext highlighter-rouge">zeta, j</code>, <code class="language-plaintext highlighter-rouge">zeta john, j</code>, and even <code class="language-plaintext highlighter-rouge">zeta, j j</code> (well, and possibly <code class="language-plaintext highlighter-rouge">john jones, zeta</code> – if we can’t tell what is the first and last name, you get the idea…)</p>

<p>So the parser will tentatively generate a multitude of possible names and spellings and will use them all to search for other ‘real’ people. If it finds anybody new, it will sigh deeply, discard the temporary variants and then proceed to generate new <code class="language-plaintext highlighter-rouge">transliterations</code> and new <code class="language-plaintext highlighter-rouge">synonyms</code> of any new (real) person that was found in ADS database. As a way of example, this is what we’ll get:</p>

<ul>
  <li>adamzuk, peter</li>
  <li>adamčuk, peter</li>
  <li>adamčuková, petra</li>
  <li>stoklasová, petra</li>
  <li>stoklasova, petra</li>
</ul>

<p>All these names were added because our parser consulted the knowledge base of author names. Our parser doesn’t know this is one and the same person; but it has a way of seeing/discovering the chain of name changes. If the knowledge database is correct, which is most of the time, it will be able to start from the user input and arrive at other names.</p>

<p>In the next stages, we’ll deduplicate entries and normalize them once again. We’ll also generate a few other different queries to account for idiosynracies in how ADS stores/searches/curates data. For example, oftentimes the papers are given to ADS without full author names and will only contain initials, so even though you may want to search for the full name, we’ll also (automatically) expand the search to include the initials (or vice versa - you are searching for initials but we’ll insist to expand your search – be less precise, more comprehensive). It depends on the input. If for example user typed <code class="language-plaintext highlighter-rouge">acamczuk, p</code> then our parser will assume they are fine with <code class="language-plaintext highlighter-rouge">adamczuk, p*</code> (and give them all peters, piotrs, pauls, pans and pons), but if the user typed <code class="language-plaintext highlighter-rouge">adamczuk, peter</code> then the search engine will take care not to search for <code class="language-plaintext highlighter-rouge">adamczuk, p*</code>, instead it will return <code class="language-plaintext highlighter-rouge">adamczuk, p</code>, <code class="language-plaintext highlighter-rouge">adamczuk, p &lt;some other name&gt;</code> and all of the synonyms thereof (<code class="language-plaintext highlighter-rouge">adamčuková, p</code>, <code class="language-plaintext highlighter-rouge">adamčuková, p *</code>, <code class="language-plaintext highlighter-rouge">stoklasová, p</code>…)</p>

<p>So what started as a few characters (one query) is turned behind the scenes into a massive and very complicated query. There is a constant battle between the desire to be precise, and the desire to include everybody who should be there (recall). Yet all of this without really knowing much about the person, all we have is just a bunch of characters. The logic is complex, it takes advantage of what ADS knows about the authors and includes a knowledge base (plus business logic) but it is far from being able to understand the ‘intentions’ of the user; and it has no real model of a person (and their relationships).</p>

<p>If it produces unexpected results, it usually is because of these reasons:</p>

<ul>
  <li>there is a bug somewhere in this insanely complex chain – a bug that was not caught by even the more insanely large suite of unittests (the frequency of this being the case is diminishing rapidly with time, and it happens rarely - but it is really difficult to say with certainty until the whole testsuite is examined; so it should always be the first option)</li>
  <li>the curated knowledge base is too broad or too narrow: i.e. it is missing a connection, or has connection too many – and joins unrelated names together</li>
  <li>haphazard interferences: wrong data indexed, wrong or outdated versions of synonyms/transliterations deployed, parts of the production cluster being down, parts of the backoffice processing pipeline being down….</li>
</ul>

<p><strong>Intermezzo #1</strong></p>

<p>Parts of the author search logic can be turned on/off; here are some of the most useful options:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">=author:"adamzuk, p"</code> the equal sign will instruct our parser not to look for transliterations/synonyms/variants</li>
  <li><code class="language-plaintext highlighter-rouge">author:/adamzuk,\ p/</code> – you can use regular expressions, basically throwing away all the fancy logic; but mind that in the real world people really have many different names; so with this approach you will only find papers that contain just the characters of your pattern</li>
  <li><code class="language-plaintext highlighter-rouge">author:"adamczuk, p"~0.7</code> – the funny tilde float number activates a fuzzy search for the similarly sounding names. You’ll need to play with the modifier until you get names that work for a particular use case (the range is 0.1-1.0). See <a href="./2021-05-23-search-parser.md">search parser</a> for details.</li>
</ul>

<p><strong>– end of intermezzo #1 —</strong></p>

      
</article>
  </div>
</div>
</div>

    <footer>
  <div class="__footer_wrapper">
    <div class="__footer_brand">
      &copy; The SAO Astrophysics Data System
      <div class="__footer_brand_extra">
        <p>
          <i class="fa fa-envelope" aria-hidden="true"></i>
          adshelp[at]cfa.harvard.edu
        </p>
        <p>
          The ADS is operated by the Smithsonian Astrophysical Observatory under
          NASA Cooperative Agreement <em>80NSSC21M0056</em>
        </p>
      </div>
      <div class="__footer_brand_logos">
        <a href="http://www.si.edu" target="_blank" rel="noreferrer noopener">
          <img
            id="smithsonian-logo"
            src="/help/common/images/smithsonian.svg"
            alt="Smithsonian logo"
          />
        </a>
        <a
          href="https://www.cfa.harvard.edu/"
          target="_blank"
          rel="noreferrer noopener"
        >
          <img
            src="/help/common/images/cfa.png"
            alt="Harvard Center for Astrophysics logo"
            id="cfa-logo"
          />
        </a>
        <a href="http://www.nasa.gov" target="_blank" rel="noreferrer noopener">
          <img
            src="/help/common/images/nasa-partner.svg"
            alt="NASA logo"
            id="nasa-logo"
          />
        </a>
      </div>
      <div class="footer-disclaimer">
        *The material contained in this document is based upon work supported by
        a National Aeronautics and Space Administration (NASA) grant or
        cooperative agreement. Any opinions, findings, conclusions or
        recommendations expressed in this material are those of the author and
        do not necessarily reflect the views of NASA.
      </div>
    </div>
    <div class="__footer_list">
      <div class="__footer_list_title">Resources</div>
      <ul class="__footer_links">
        <li>
          <a href="/about/">
            <i class="fa fa-question-circle" aria-hidden="true"></i> About ADS
          </a>
        </li>
        <li>
          <a href="/help/">
            <i class="fa fa-info-circle" aria-hidden="true"></i> ADS Help
          </a>
        </li>
        <li>
          <a href="/help/whats_new/">
            <i class="fa fa-bullhorn" aria-hidden="true"></i> What's New
          </a>
        </li>
        <li>
          <a href="/about/careers/">
            <i class="fa fa-group" aria-hidden="true"></i> Careers@ADS
          </a>
        </li>
        <li>
          <a href="/help/accessibility/">
            <i class="fa fa-universal-access" aria-hidden="true"></i>
            Accessibility
          </a>
        </li>
      </ul>
    </div>
    <div class="__footer_list">
      <div class="__footer_list_title">Social</div>
      <ul class="__footer_links">
        <li>
          <a
            href="//twitter.com/adsabs"
            target="_blank"
            rel="noreferrer noopener"
          >
            <i class="fa fa-twitter" aria-hidden="true"></i> @adsabs
          </a>
        </li>
        <li>
          <a href="/blog/">
            <i class="fa fa-newspaper-o" aria-hidden="true"></i> ADS Blog
          </a>
        </li>
      </ul>
    </div>
    <div class="__footer_list">
      <div class="__footer_list_title">Project</div>
      <ul class="__footer_links">
        <li>
          <a href="/core">Switch to basic HTML</a>
        </li>
        <li>
          <a href="/help/privacy/">Privacy Policy</a>
        </li>
        <li>
          <a href="/help/terms">Terms of Use</a>
        </li>
        <li>
          <a
            href="http://www.cfa.harvard.edu/sao"
            target="_blank"
            rel="noreferrer noopener"
            >Smithsonian Astrophysical Observatory</a
          >
        </li>
        <li>
          <a href="http://www.si.edu" target="_blank" rel="noreferrer noopener"
            >Smithsonian Institution</a
          >
        </li>
        <li>
          <a
            href="http://www.nasa.gov"
            target="_blank"
            rel="noreferrer noopener"
            >NASA</a
          >
        </li>
      </ul>
    </div>
  </div>
</footer>


    <div id="darkSwitch" class="darkmode-toggle" title="Turn on dark mode">
      🌓
    </div>
    <script src="/help/common/js/dark-mode-switch.js"></script>
  </body>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
  <script
    src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous"
  ></script>

  <script>
    $(document).ready(function () {
      $('body').on('click', 'button[data-toggle="off-canvas"]', function () {
        $('.row-offcanvas').toggleClass('active');
      });
    });
  </script>

  <!-- for sidebar -->
  <script>
    $(document).ready(function () {
      //ADD THE PROPER HIGHLIGHT
      try {
        var category = window.location.pathname.split('/')[2];
      } catch (e) {
        console.error("couldn't parse category name");
      }
      //this should fail without causing a problem if category can't be found
      if ($('.help-nav').find('div#' + category + '-items').length === 0)
        console.log('couldnt find accordion drawer for: ', category);
      $('.help-nav')
        .find('div#' + category + '-items')
        .addClass('in')
        //set the caret pointing down
        .parent()
        .find('.fa')
        .removeClass('fa-caret-right')
        .addClass('fa-caret-down');

      //SET LISTENERS FOR CARET OPEN/CLOSED
      $('.help-nav .collapse')
        .on('show.bs.collapse', function () {
          $(this)
            .parent()
            .find('.fa')
            .removeClass('fa-caret-right')
            .addClass('fa-caret-down');
        })
        .on('hide.bs.collapse', function () {
          $(this)
            .parent()
            .find('.fa')
            .removeClass('fa-caret-down')
            .addClass('fa-caret-right');
        });
    });
  </script>

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      'script',
      '//www.google-analytics.com/analytics.js',
      'ga'
    );

    ga('create', 'UA-37369750-8', 'auto');
    ga('send', 'pageview');
  </script>
</html>
